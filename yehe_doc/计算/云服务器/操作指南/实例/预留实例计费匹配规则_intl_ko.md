### 예약 인스턴스 과금 매칭 규칙

예약 인스턴스 과금(Reserved Instance, 약칭 RI)을 구매한 후 유효 기간 안에 예약 인스턴스는 종량제 인스턴스와 자동 매칭됩니다. 현재 RI는 Linux 시스템의 종량제 인스턴스만 매칭 실행되는 것을 지원합니다. 사용자의 계정 아래에 잠시 매칭 가능한 종량제 인스턴스가 없으면 RI는 방치되지만 계속 요금이 발생합니다. 사용자가 요구에 부합되는 종량제 인스턴스를 구매한 후 즉각 자동 매칭하면 매칭 성공 후 바로 종량제 인스턴스 청구서를 차감합니다. 

- 사용자는 RI과 종량제 인스턴스의 매칭 상태를 수동으로 관리할 수 없습니다.
- RI 청구서 장점은 시간당 최대 3600초(1시간)의 인스턴스 사용에 적용됩니다. 사용자는 여러 개의 인스턴스를 동시에 실행할 수 있으나 시간당 총 3600초의 RI 할인만 획득할 수 있으며 시간당 3600초를 초과하는 인스턴스 사용은 종량제 방식에 따릅니다. 

예를 들어, 사용자가 하나의 실리콘밸리 1지역 S3.16xlarge256 RI를 구매하였고 현재 계정 아래에서 3대의 동일한 가용존 동일한 속성의 종량제 S3.16xlarge256 인스턴스를 1시간 실행할 경우, 하나의 종량제 인스턴스만 1시간의 RI 사용에 따라 과금하고 기타 2개의 인스턴스는 3시간의 종량제 사용에 따라 과금합니다. 

그러나 사용자가 하나의 실리콘밸리 1지역 S3.16xlarge256 RI를 구매하였고 동일한 시간 안에 3개의 동일한 가용존 동일한 속성의 종량제 인스턴스(A,B,C,D)를 각각 20분씩 실행할 경우, 인스턴스의 총 실행시간은 1시간이고 이는 1시간의 RI 사용과 0시간의 종량제 사용이 발생합니다. 다음 그림과 같이 이 3대의 인스턴스는 각각 RI와 20분씩 매칭됩니다.

![1558602502993](C:\Users\aironpu\AppData\Local\Temp\1558602502993.png)

3개의 상호 매칭에 부합되는 종량제 인스턴스가 동시에 실행될 경우, 예약 인스턴스(Reserved Instance) 청구서 장점은 1시간 안에(최대 3600초) 모든 인스턴스에 동시에 적용됩니다. 해당 시간이 지난 후 계속 종량제 방식에 따라 요금을 차감합니다.

![1558602155668](C:\Users\aironpu\AppData\Local\Temp\1558602155668.png)

#### 적용 시간

사용자가 구매한 예약 인스턴스 적용 시간은 정시를 기준으로 계산합니다. 예약 인스턴스는 생성된 지난 정시에 적용되고 다음 정시부터 365일 후의 대응되는 정시까지 1년 사이클(정시에 생성된 경우는 제외, 정시에 생성된 것은 정상적인 시간대로 적용하고 라이프사이클을 계산함)입니다

eg.사용자가 13:25에 예약 인스턴스 RI 패킷을 구매하여 활성화했으면 13:00에서 14:00까지 시간대는 전체적으로 RI 할인 가격에 따라 계산하고 유효기간 시작 시간은 14:00 + 365*24입니다

eg.사용자가 13:00에 예약 인스턴스를 구매하였으면 13:00부터 RI 패킷의 권리를 가지게 되며 유효시간은 13:00+ 365*24입니다
