### COSでファイルのリンク不正アクセスを防止するにはどうすればよいですか。

1. ブラウザからファイルにアクセスするケースでは、リンク不正アクセス防止設定を行うことで、ブラックリストまたはホワイトリストを設定できます。操作ガイドは[リンク不正アクセス防止の設定](https://intl.cloud.tencent.com/document/product/436/13319)を参照することができます。
2. アドレスから直接オブジェクトにアクセスするケースでは、匿名リクエストの場合は、アクセスポリシーを設定することでIPのブラックリストまたはホワイトリストを設定できます。操作ガイドは[バケットポリシーの追加](https://intl.cloud.tencent.com/document/product/436/30927)を参照することができます。アクセスポリシーに関するその他の説明については、[アクセスポリシーの言語概要](https://intl.cloud.tencent.com/document/product/436/18023)をご参照ください。
3. 署名リクエストについては、現時点ではブラックリストまたはホワイトリストの設定をサポートしていません。

### CDNアクセラレーションを有効にし、かつCDNアクセラレーションドメイン名を使用してリソースにアクセスする際、リンク不正アクセス防止設定が有効にならないのですが、どうすればよいですか。

CDNアクセラレーションドメイン名を使用してリソースにアクセスする場合、CDNキャッシュなどの要素がCOSリンク不正アクセス防止の安定性に影響している可能性があります。[CDNコンソール](https://console.cloud.tencent.com/cdn)でリンク不正アクセス防止の設定を行うことをお勧めします。操作ガイドは[CDNリンク不正アクセス防止の設定](https://intl.cloud.tencent.com/document/product/228/6292)をご参照ください。

### ホワイトリストを設定してファイルへのアクセスを許可し、さらにブラウザでリンクを単独で開いてもアクセスを許可するようにできますか。

リンク不正アクセス防止の設定時に空のrefererの許可を選択すると、ホワイトリストを設定した状態で、ブラウザでリンクを単独で開いてもファイルへのアクセスを許可することができます。

### バケットtestのリンク不正アクセス防止ホワイトリストを設定し、`a.com`のアクセスを許可しましたが、`a.com`下のウェブプレーヤーでバケットtest下のビデオファイルを再生できません。

WebページでWindows Media Player、Flash Playerなどのプレーヤーを利用してビデオリンクを再生する場合は、リクエストの中のrefererが空のため、ホワイトリストにヒットしなくなります。ホワイトリストを設定する際に空のrefererを許可するよう選択することをお勧めします。

### COSに保存したファイルについて、自社のネットワークだけにアクセスを許可するよう設定するにはどうすればよいですか。

バケットにリンク不正アクセス防止を設定し、ブラックリストまたはホワイトリストを設定してアクセス元を制限することができます。現在はドメイン名、IPおよびワイルドカード\*などの形式のアドレスをサポートしています。リンク不正アクセス防止の詳細な説明と操作ガイドについては、[リンク不正アクセス防止の設定](https://intl.cloud.tencent.com/document/product/436/13319)を参照することができます。

>?
> - CDNドメイン名アクセラレーションによるアクセスの場合は、CDNのリンク不正アクセス防止ルールが優先的に適用され、その後COSのリンク不正アクセス防止ルールが適用されます。
> - オブジェクトへのアクセスの際に署名（URLとHeaderのどちらでも）があれば、リンク不正アクセス防止の検証は行われません。
>


### COSにブラウザからアクセスした際に「You are denied by bucket referer rule」というエラーが発生しましたが、どのように対処すればよいですか。

このエラーメッセージは「バケットのリンク不正アクセス防止ルールによってアクセスが拒否された」という意味です。バケット内のリンク不正アクセス防止ルールがお客様のユースケースに合っているかどうかをチェックすることができます。ブラウザからアクセスする場合は、空のrefererを許可するよう設定する必要があります。空のrefererのアクセスを拒否する設定にした場合、ブラウザから直接アクセスすることはできません。

### COSで、指定したIPだけにCOS内のリソースへのアクセスを許可するよう設定するにはどうすればよいですか。

リンク不正アクセス防止機能を使用して、IPホワイトリストを設定する方法で実現できます。設定後、ホワイトリスト以外のIPはお客様のCOS内のリソースにアクセスできなくなります。操作ガイドは[リンク不正アクセス防止の設定](https://intl.cloud.tencent.com/document/product/436/13319)を参照することができます。
