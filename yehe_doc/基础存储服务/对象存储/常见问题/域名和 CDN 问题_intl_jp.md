## アクセスとアクセラレーションに関するご質問

### 独自ドメイン名を使用してオブジェクトにアクセスするにはどうすればよいですか。

カスタムドメイン名をバインドすることで実現できます。詳細については、[カスタムアクセラレーションドメイン名](https://intl.cloud.tencent.com/document/product/436/31506)をご参照ください。

### COSはHTTPSアクセスをサポートしていますか。

サポートしています。COSはすべての[アベイラビリティリージョン](https://intl.cloud.tencent.com/document/product/436/6224)のアクセスノードでSSL転送をサポートし、なおかつSDKおよびコンソールの両方でデフォルトでHTTPSを有効にしています。**COSはHTTPSを使用して転送のデータリンクを保護することを強く推奨しています。暗号化されていないHTTPを使用して接続すると、リンクが監視されたり、 データがハッキングされたりするリスクが生じます。**

### COSでCDNをアクティブ化するにはどうすればよいですか。

詳細については、[デフォルトのCDNアクセラレーションドメイン名の有効化](https://intl.cloud.tencent.com/document/product/436/31505)および[カスタムCDNアクセラレーションドメイン名の有効化](https://intl.cloud.tencent.com/document/product/436/31506)をご参照ください。

### COSはCDNのCOSへのHTTPS back-to-originをサポートしていますか。

はい。具体的な操作方法については[back-to-originの設定](https://intl.cloud.tencent.com/document/product/436/31508)のドキュメントをご参照ください。

### カスタムドメイン名のHTTPSアクセスを設定するにはどうすればよいですか。

バケットを独自ドメイン名にバインドしてCDNアクセラレーションを有効にし、[CDNコンソール](https://console.cloud.tencent.com/cdn)でHTTPS設定を行うことができます。詳細な操作ガイドについては、[HTTPS設定](https://intl.cloud.tencent.com/document/product/228/35213)をご参照ください。
CDNを使用しない場合も、ドメイン名にリバースプロキシを設定し、ドメイン名をサーバーに解決する方法で実現できます。詳細な操作については、[カスタムドメイン名の設定によるHTTPSアクセスのサポート](https://intl.cloud.tencent.com/document/product/436/11142)をご参照ください。

### COS内のファイルに対してワンタイムURLを生成するにはどうすればよいですか。

具体的な操作については、[署名付きURLによるダウンロード権限承認](https://intl.cloud.tencent.com/document/product/436/14116)をご参照ください。

### プライベート読み取り権限が設定されているバケットに、CDNを通じてアクセラレーションアクセスを行うことは可能ですか。

可能ですが、権限承認の関連設定を行う必要があります。具体的な設定については、CDNアクセラレーションの概要についてのドキュメントの[プライベート読み取りバケット](https://intl.cloud.tencent.com/document/product/436/18669)のパートをご参照ください。

### 海外のアクセラレーションGCDを使用して国内のCOSのアクセラレーションを行うことはできますか。

できます。ただし、ポリシー上の理由により、海外のアクセラレーションプラットフォームGCDからback-to-originによって中国本土のデータを取得したり、中国大陸のユーザーが海外のノードにアクセスしたりする場合は必ず公共のキャリアネットワークを経由する必要があり、速度が十分でない場合や、アクセス自体ができない場合もあります。海外のアクセラレーションGCDのURLプリフェッチ機能を使用し、事前にホットファイルのキャッシュを行っておくことをお勧めします。


### クロスドメインアクセスを設定すると、ホワイトリストに含まれているヘッダーのCOSへのアクセスが拒否されましたが、どのように対処すればよいですか。

アクセスが拒否された原因として考えられるものは次のとおりです。
1. 含まれるヘッダーが設定と一致しているかをチェックし、スペースなどの見えない文字が存在しないかどうかを確認します。
2. リクエストを送信したドメイン名の情報をチェックします。CDNアクセラレーションドメイン名を使用したアクセスの場合は、CDNコンソールでクロスドメイン設定を行う必要があります。[カスタマイズレスポンスヘッダーの設定](https://intl.cloud.tencent.com/document/product/228/35320)をご参照ください。
3. バケットの権限の状態をチェックし、アクセスがバケットの権限承認に適合しているかどうか判断します。
4. ブラウザキャッシュの状況をチェックします。ブラウザキャッシュによって起こったエラーである可能性がある場合は、Ctrl+F5によってブラウザを強制的に更新するか、またはブラウザの【Network】オプションタブでDisable cacheにチェックを入れると解決できます。


## ドメイン名およびその他のご質問


### コンソールでドメイン名管理を行う際、いつも「使用可能なキーを1つ以上有効にしてください」と表示されますが、どのように対処すればよいですか。

[CAMコンソール](https://console.cloud.tencent.com/cam/capi)にログインし、Tencent Cloud APIキーが有効になっているかどうかを確認してください。

- Tencent Cloud APIキーIDが有効になっていない場合は、キーを作成して有効にしてからドメイン名管理を行ってください。
- Tencent Cloud APIキーIDが有効になっているにもかかわらず表示される場合は、現在操作しているアカウントがサブアカウント（コラボレーターまたはサブユーザー）ではないか確認してください。
  - サブアカウントであれば、ルートアカウントでログインし、Tencent Cloud APIキーが有効になっているかどうかを確認してください。
  - ルートアカウントであれば、ブラウザのキャッシュを更新し、Tencent Cloudアカウントにログインし直してください。

### カスタムドメイン名を使用するには、Tencent CloudのICP登録を行う必要がありますか。
現在COSでカスタムドメイン名を使用している場合はCDNを有効にする必要があります。ご自身の状況に応じて判断してください。

- ドメイン名で国内のCDNにアクセスするには、ICP登録が必要です。ただしICP登録はTencent Cloudを通じて行わなくてもよく、アクセスするドメイン名が確実にICP登録されていればアクセスできます。
- ドメイン名で海外のCDNにアクセスする場合は、ICP登録は不要です。

### CDNコンソールでオリジンサーバーを変更すると、COSコンソールの元のカスタムドメイン名が消えてしまいましたが、なぜですか。

>一度バージョンV5コンソールを使用し、JSONバージョンを有するドメイン名を設定した場合、COS V5コンソールでは新しいドメイン名を表示できなくなります。

バケットにJSONドメイン名が設定されているかどうかをチェックし、JSONバージョンドメイン名の設定をXMLドメイン名に変更してください。

<a id="gcd"></a>
### ICP登録を行っていないドメイン名で海外のアクセラレーションGCDプラットフォームにアクセスすることはできますか。

海外のアクセラレーションを使用する場合はICP登録の必要はありません。ただし、Tencent Cloud上で保存するデータおよび操作行為については、関係国の法律法令、ならびに[『Tencent Cloudサービス契約』](https://intl.cloud.tencent.com/document/product/301/12905)を遵守する必要があることに必ずご注意ください。

### COSファイルが更新（再アップロードまたは削除）された際、CDNがキャッシュ内容を保存したままのため、オリジンサーバーとの不一致が生じます。COSの更新時にCDNのキャッシュを自動的に更新することは可能ですか。

COS自体はCDNキャッシュの自動更新をサポートしていませんが、Serverless Cloud Function（SCF）を併用してCDNキャッシュの自動更新を設定することはできます。詳細については、[CDNによってキャッシュされたCOSリソースをSCFによって自動更新する](https://intl.cloud.tencent.com/document/product/436/30611)のドキュメントをご参照ください。
