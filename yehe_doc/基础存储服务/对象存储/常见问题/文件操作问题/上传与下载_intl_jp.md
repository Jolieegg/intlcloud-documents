### COSではアップロードおよびダウンロードの帯域幅に制限はありますか。

中国大陸パブリッククラウドリージョンでの1バケットのデフォルトの帯域幅は、アップストリーム･ダウンストリーム共有で15Gbit/s、その他のリージョンではアップストリーム･ダウンストリーム共有で10Gbit/sとなります。帯域幅がこの閾値に達すると、リクエストによってトラフィックコントロールがトリガーされます。その他の制限については[仕様と制限](https://intl.cloud.tencent.com/document/product/436/14518)をご参照ください。

### ファイルをダウンロードせず、直接ブラウザでプレビューするにはどうすればよいですか。

このファイルに正しいContent-Typeヘッダーを指定する必要があります。また、Content-Dispositionのパラメータ値をattachmentとすることはできません。ブラウザが現在のファイル形式をサポートしている場合は、直接ダウンロードではなく、ブラウザでこのファイルを直接開くことができます。操作ガイドについては [カスタムHeaders](https://intl.cloud.tencent.com/document/product/436/13361)をご参照ください。

### ファイルをプレビューせず、直接ブラウザでダウンロードするにはどうすればよいですか。

[COSコンソール](https://console.cloud.tencent.com/cos5)でカスタムHeaders内のContent-Dispositionパラメータ値をattachmentに設定します。操作ガイドについては[カスタムHeaders](https://intl.cloud.tencent.com/document/product/436/13361)をご参照ください。

GET Objectインターフェースでリクエストパラメータresponse-content-dispositionの値をattachmentに設定する方法でも、ブラウザでファイルダウンロードのポップアップを表示させることが可能です。参考ドキュメントについては[GET Object](https://intl.cloud.tencent.com/document/product/436/7753)をご参照ください。

>! リクエストにresponse-*パラメータを使用する必要がある場合、リクエストには署名が必要です。
>

### プライベートネットワークでCOSにアクセスしているかどうかはどのように判断しますか。

Tencent Cloud COSのアクセスドメイン名にはインテリジェントDNS解決を使用しており、インターネットの様々なキャリア環境の下で、お客様のCOSアクセスにとって最適なリンクを検知および指定します。

Tencent Cloud内にデプロイしたCVMサービスをCOSへのプライベートネットワークアクセスに使用している場合は、まずCVMとCOSバケットが同じリージョンに所属していることを確認し、その後CVM上で`nslookup`コマンドを使用してCOSドメイン名を解決します。プライベートIPが返された場合、CVMとCOS間はプライベートネットワークアクセスであり、そうでない場合はパブリックネットワークアクセスであることがわかります。

Tencent Cloud内にデプロイしたCVMサービスのリージョンがCOSバケットの所属リージョンと異なるが、COSのアベイラビリティリージョンの範囲である場合は、COSのプライベートネットワークグローバルアクセラレーションドメイン名によってファイルにアクセスすることで、CVMとCOSのクロスリージョンアクセスを実現することができます。

#### プライベートネットワークアクセスの判断方法

同一リージョン内でのTencent Cloud製品へのアクセスは、プライベートネットワーク接続によって行うことができ、それによるプライベートネットワークトラフィックには料金が発生しません。このため、Tencent Cloudの製品をお選びになる際は、できるだけ同一のリージョンを選択すると料金の節約になります。

>! パブリッククラウドリージョンと金融クラウドリージョン間のプライベートネットワークは相互運用されていません。
>

プライベートネットワークアクセスかどうかを確認するには、次の方法をご参照ください。

Tencent Cloud Virtual Machine（CVM）のCloud Object Storage（COS）アクセスを例にとると、プライベートネットワークを使用したCOSアクセスかどうかを判定するには、CVM上で`nslookup`コマンドを使用してCOSドメイン名を解決します。プライベートネットワークIPが返された場合、CVMとCOS間はプライベートネットワークアクセスであり、そうでない場合はパブリックネットワークアクセスであることがわかります。

>? プライベートIPアドレスの一般的な形式は`10.*.*.*`、`100.*.*.*`であり、VPCネットワークは一般的に`169.254.*.*`などです。
>

`examplebucket-1250000000.cos.ap-guangzhou.myqcloud.com`がターゲットバケットアドレスだとすると、その下の`Address: 10.148.214.13`がプライベートネットワークからのアクセスであることを表します。

```shell
nslookup examplebucket-1250000000.cos.ap-guangzhou.myqcloud.com

Server:         10.138.224.65
Address:        10.138.224.65  #53

Name:   examplebucket-1250000000.cos.ap-guangzhou.myqcloud.com
Address: 10.148.214.13
Name:   examplebucket-1250000000.cos.ap-guangzhou.myqcloud.com
Address: 10.148.214.14
```

プライベートネットワークとパブリックネットワークアクセス、接続性テストなどのその他の情報については、[プライベートネットワークとパブリックネットワークアクセス](https://intl.cloud.tencent.com/document/product/436/30613)をご参照ください。

Tencent Cloud CVMプライベートネットワークのDNSサーバーアドレスについては、[CVMプライベートネットワークサービス](https://intl.cloud.tencent.com/document/product/213/5225)をご参照ください。

>! Tencent CloudのBMインスタンスのプライベートIPアドレスとCVMのIPアドレスには違いがあり、一般的な形式は`9.*.*.*`または`10.*.*.*`です。ご不明な点がありましたら[お問い合わせ](https://intl.cloud.tencent.com/contact-sales)ください。
>

### フォルダをダウンロードするにはどうすればよいですか。

[COSBrowserツール](https://intl.cloud.tencent.com/document/product/436/11366)にログインし、ダウンロードしたいフォルダを選び、**ダウンロード**をクリックすると、フォルダまたはファイル一括でのダウンロードを行うことができます。あるいはCOSCMDツールによってフォルダのダウンロードを実現できます。詳細については、[COSCMDツール](https://intl.cloud.tencent.com/document/product/436/10976)をご参照ください。

### アップロード、ダウンロードなどの操作を行う際、「403 Forbidden」、権限拒否などのエラーが発生した場合はどのように対処すればよいですか。

[COSへのアクセス時に403エラーコードが返される](https://intl.cloud.tencent.com/document/product/436/40105)のドキュメントを参照し、トラブルシューティングを行ってください。


### COSでファイルの一括アップロードまたは一括ダウンロードを行うにはどうすればよいですか。

COSではコンソール、API/SDK、ツールなどの複数の方式でファイルの一括アップロードまたは一括ダウンロードを行うことができます。

- コンソール方式：操作手順については、[オブジェクトのアップロード](https://intl.cloud.tencent.com/document/product/436/13321)、[オブジェクトのダウンロード](https://intl.cloud.tencent.com/document/product/436/13322)をご参照ください。
- API/SDK方式：COSではプログラミングによってAPIまたはSDKインターフェースを複数回呼び出す方式でファイルのバッチ操作を行うことができます。詳細については、[オブジェクトのアップロード/ダウンロード](https://intl.cloud.tencent.com/document/product/436/10111) APIインターフェースおよび[SDKの概要](https://intl.cloud.tencent.com/document/product/436/6474)をご参照ください。
- ツール方式： [COSBrowser](https://intl.cloud.tencent.com/document/product/436/11366)、[COSCMD](https://intl.cloud.tencent.com/document/product/436/10976)、[COSCLI](https://intl.cloud.tencent.com/document/product/436/43249) などのツールを使用してバッチ操作を実現できます。


### ファイルをバケットにアップロードする際、同名のファイルが存在した場合は直接上書きされますか。それとも別バージョンのファイルが新規作成されますか。

COSではバージョン管理機能をサポートしています。バケットでバージョン管理機能を有効にしていない場合は、同名のファイルをバケットにアップロードすると、既存の同名ファイルに直接上書きされます。バケットでバージョン管理機能を有効にしている場合は、同じ名前のファイルをバケットにアップロードすると、そのオブジェクトの複数のバージョンが同時に存在することになります。

### COSのマルチパートアップロード方式では、最小のパートサイズはどれくらいの大きさですか。

1パートは最小で1MBとなります。詳細については、[仕様と制限](https://intl.cloud.tencent.com/document/product/436/14518)のドキュメントをご参照ください。

### 大容量ファイルのマルチパートアップロード中に署名が失効した場合、署名を切り替えてパートのアップロードを継続することはできますか。

できます。

### COS内のファイルに対してワンタイムURLを生成するにはどうすればよいですか。

具体的な操作については、[署名付きURLによるダウンロード権限承認](https://intl.cloud.tencent.com/document/product/436/14116)をご参照ください。


### 署名の有効期限を指定しているのに、署名が期限切れとなってもファイルがダウンロードできるのはなぜですか。

デフォルトでは、ブラウザは正常にロードしたファイルをキャッシュします。そのため、同一のURLを使用している場合、ブラウザはサーバーに再度リクエストは行わず、キャッシュした結果を返します。ユーザーがファイルをアップロードする際は、Cache-Control: no-cacheヘッダーを指定してブラウザキャッシュを防止することをお勧めします。さらに詳しくお知りになりたい場合は、[PUT Object](https://intl.cloud.tencent.com/document/product/436/7749)または[Initiate Multipart Upload](https://intl.cloud.tencent.com/document/product/436/7746)のドキュメントをご参照ください。また、ファイルをダウンロードする際にresponse-cache-control=no-cacheリクエストパラメータを指定してブラウザキャッシュを防止することもできます。さらに詳しくお知りになりたい場合は、[GET Object](https://intl.cloud.tencent.com/document/product/436/7753)のドキュメントをご参照ください。


### コンソールでファイルをアップロードすると、「アップロードに失敗しました。ネットワークに問題があります」と表示されましたが、どうすればよいですか。
このエラーはローカルネットワーク環境が不安定な場合に発生します。ネットワーク環境を変更してから再度アップロードを行うことをお勧めします。


### 第三者によるCOSファイルのダウンロードを防止するにはどうすればよいですか。

バケットをプライベート読み取り/書き込みに設定することができます。詳細については、[アクセス権限の設定](https://intl.cloud.tencent.com/document/product/436/13315)のドキュメントをご参照ください。また、リンク不正アクセス防止機能によってホワイトリスト制限を設定し、リスト以外のドメイン名によるバケットのデフォルトアクセスアドレスへのアクセスを制限することもできます。詳細については、[リンク不正アクセス防止の設定](https://intl.cloud.tencent.com/document/product/436/13319)のドキュメントをご参照ください。

### ファイルのダウンロードURLを、大文字と小文字を区別しないように設定することは可能ですか。

この操作はCOSではサポートしていません。COSファイル名はアルファベットの大文字と小文字を区別しており、URLからのファイルアクセスも同様にアルファベットの大文字と小文字を区別する必要があります。バケットでCDNアクセラレーション機能を有効にしている場合、CDNコンソールで大文字と小文字を区別しないキャッシュ設定を有効にすることで、ヒット率を一定程度向上させることができます。詳細については、[大文字と小文字を区別しないキャッシュ設定](https://intl.cloud.tencent.com/document/product/228/35316)をご参照ください。


### ファイルのアップロードやバケット作成などの操作を行う際に、「your policy or acl has reached the limit (Status Code: 400; Error Code: PolicyFull)」というエラーが発生しましたが、どのように対処すればよいですか。

COSの各ルートアカウント下のバケットACLルールの数は最大1000個までです。設定したバケットACLが1000個を超えるとこのエラーが発生します。このため、不要なバケットACLルールは削除することをお勧めします。
>? オブジェクトレベルのACLまたはPolicyの使用はお勧めしません。APIまたはSDKを呼び出す際、ファイルに対して特別なACL制御を必要としない場合は、ACLの関連パラメータ（x-cos-acl、ACLなど）を空にし、バケットの権限をそのまま引き継いでください。
>


