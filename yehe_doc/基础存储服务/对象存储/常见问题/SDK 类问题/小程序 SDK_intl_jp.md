### ミニプログラムで複数のドメイン名のリクエストがある場合、またはバケット名が確定していない場合、ホワイトリスト設定および制限の問題をどのように解決すればよいですか。

SDKのインスタンス化の際は、`ForcePathStyle:true`を使用することで後置記法を有効にできます。真のリクエストurlのみが必要で、その形式が次の`https://cos-ap-beijing.myqcloud.com/<BucketName-APPID>/<Key>`のような後置記法のリクエストであれば、署名の際にバケット名`/<BucketName-APPID>`も署名の計算に含まれます。

### ミニプログラムで画像をローカルに保存するにはどうすればよいですか。

あらかじめ`cos.getObjectUrl`で画像のurlを取得しておき、その後`wx.downloadFile`を呼び出して画像をダウンロードし、一時パスを取得します。インターフェースに保存した画像のボタンが表示されるので、ユーザーはボタンをクリックし、`wx.saveImageToPhotosAlbum`を呼び出してアルバムに保存することができます。


### QQミニプログラムではミニプログラムSDKを使用してファイルをCOSにアップロードすることはできますか。

COSでは現時点ではWeixinアプレットのみをサポートしています。QQミニプログラムはWeixinアプレットとの間に互換性がないため、ミニプログラムSDKは使用できません。

### ミニプログラムでcos-wx-sdk-v5を使用してファイルをバケットにアップロードする場合、getAuthorization関数はどのような役割を果たしますか。

ミニプログラムSDKのgetAuthorization関数は、バックエンドで一時キーを取得してフロントエンドに渡し、フロントエンドで署名を計算してからアップロード、削除などの操作を行うものです。キーの漏洩を防ぐため、一時キーの形式を使用することをお勧めします。詳細については、[ミニプログラムSDKによるCOSインスタンス作成の例](https://intl.cloud.tencent.com/document/product/436/30609)をご参照ください。

### COSのミニプログラムで複数のドメイン名のリクエストがある場合、またはバケット名が確定していない場合、ホワイトリスト設定および制限の問題をどのように解決すればよいですか。

SDKのインスタンス化の際は、ForcePathStyle:trueを使用することで後置記法を有効にできます。真のリクエストのurlのみが必要で、その形式は次のようになります。後置記法のリクエストの場合は、署名の際にバケット名`<BucketName-APPID>`も署名の計算に含まれます。
```
https://cos-ap-beijing.myqcloud.com/<BucketName-APPID>/<Key>
```
