## 작업 시나리오

루트 계정 A(APPID: 1250000000)에는 `examplebucket1-1250000000` 및 `examplebucket2-1250000000`이라는 두 개의 버킷이 있으며 루트 계정 B의 서브 계정 B0은 비즈니스 요구 사항을 충족하기 위해 조작하려고 합니다. 이 문서에서는 그렇게 할 수 있는 권한을 부여하는 방법을 설명합니다.


## 작업 단계
#### 루트 계정 B에 A 계정이 소유한 버킷에 대한 권한 부여

1. 루트 계정 A로 [COS 콘솔](https://console.cloud.tencent.com/cos5)에 로그인합니다.
2. **버킷 리스트**를 클릭하고 인증할 버킷을 찾은 다음 이름을 클릭하여 버킷 세부 정보 페이지로 들어갑니다.
3. 왼쪽 사이드바에서 **권한 관리**를 클릭하여 버킷의 권한 관리 페이지로 이동합니다.
4. **Policy 권한 설정** 구성 항목을 찾아 **정책 추가**를 클릭하고 사용자 지정 정책을 선택한 후 **다음**을 클릭합니다.
5. 아래와 같이 양식을 작성합니다.
  - **정책 ID**: 선택 사항입니다.
  - **효과**: 허용
  - **사용자**: 사용자 추가를 클릭하고 사용자 유형을 루트 계정으로 선택한 후 계정 ID에 루트 계정 B의 UIN을 입력합니다. 예시: 100000000002.
  - **리소스**: 필요에 따라 선택합니다. 기본값은 버킷 전체입니다.
  - **리소스 경로**: 리소스 지정 시에만 작성하며, 필요에 따라 작성합니다.
  - **작업**: 작업 추가를 클릭하고 모든 작업을 선택합니다. 일부 작업만 권한을 부여할 경우 실제 필요한 작업 한 개 또는 여러 개를 선택할 수 있습니다.
  - **조건**: 필요에 따라 작성하며, 필요 없는 경우 비워 둘 수 있습니다.
6. **완료**를 클릭하여 루트 계정 B가 버킷에 대해 지정한 권한을 부여합니다.
7. 기타 버킷에 대한 권한 부여가 필요한 경우 이상의 순서를 다시 반복합니다.

#### 서브 계정 B0에 A 계정이 소유한 버킷에 대한 권한 부여

1. 루트 계정 B를 사용하여 CAM 콘솔에 로그인한 후 [정책](https://console.cloud.tencent.com/cam/policy) 페이지로 이동합니다.
2. **사용자 정의 정책 생성 > 정책 구문으로 생성**을 선택하고 빈 템플릿을 선택한 후 **다음**을 클릭합니다.
>?루트 계정 B에서 서브 계정 B0에 권한을 부여합니다. 사용자 정의 정책을 통해서만 권한을 부여할 수 있으며, 사전 설정 정책을 통한 권한 부여는 지원하지 않습니다.
3. 다음과 같이 작성합니다.
	- **정책 이름**: 중복되지 않고 의미가 있는 정책 이름을 사용자 정의합니다. 예: cos-child-account
	- **비고**: 선택 가능하며, 직접 작성합니다.
	- **정책 내용**:
```shell
{
    "version": "2.0",
    "statement": [
        {
            "action": "cos:*",
            "effect": "allow",
            "resource": "qcs::cos::uid/1250000000:examplebucket1-1250000000/*"
        }
    ]
}
```
`uid/1250000000`의 1250000000은 루트 계정 A의 APPID이고 `examplebucket1-1250000000`은 승인할 버킷의 이름입니다. `examplebucket1-1250000000/*`은 루트 계정 B에 권한이 부여된 루트 계정 A의 모든 버킷이 서브 계정 B0에 권한이 있음을 의미합니다.
4. **완료**를 클릭하면 정책 생성이 완료됩니다.
5. **정책** 리스트에서 생성된 정책을 찾아 오른쪽 **사용자/사용자 그룹/역할 연결**을 클릭합니다.
6. 팝업창에서 서브 계정 B0을 선택하고 **확인**을 클릭합니다.
7. 권한 부여 작업이 완료됩니다. 이제 서브 계정 B0의 키를 사용하여 A 소유의 버킷에 대한 작업을 테스트해 볼 수 있습니다.
