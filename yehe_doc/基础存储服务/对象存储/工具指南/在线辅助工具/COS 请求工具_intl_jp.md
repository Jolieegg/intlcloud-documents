## 機能の説明

COSリクエストツールはTencent Cloud Object Storage（COS）が提供するWeb端末デバッグツールです。Tencent Cloud API 3.0 Explorerプラットフォームに統合され、APIインターフェースのデバッグ作業に使用できます。

>! COSリクエストツールが送信したリクエストは実際にCOSの業務サーバーに送信されます。**すべての操作は実際の操作に等しいため、DELETE系の操作を選択する場合は慎重に操作してください。**

現在COSリクエストツールがサポートしているAPIバージョンはXML APIです。JSON APIバージョンはサポートしていません。
- JSON APIはTencent Cloud COSサービスがXML APIを打ち出す前にユーザーにCOSにアクセスして使用するために提供したAPIインターフェースです。インターフェースと標準XMLのAPIの基礎となるアーキテクチャは同じで、データは相互接続し、互いに利用することができますが、インターフェースに互換性はありません。
- XML APIにはより豊富な機能と特徴があります。Tencent Cloud COSはXML APIバージョンにアップグレードすることを強くお勧めします。

## ツールアドレス

[COSリクエストツール](https://console.cloud.tencent.com/api/explorer?Product=cos)をクリックして進みます。

## 使用方法

**COS**製品を選択し、必要なAPIインターフェースを選択し、そのインターフェース下で対応するパラメータを入力し、リクエストの送信をクリックして対応するリクエストのレスポンス結果を取得します。

COSリクエストツールのページ全体は、左から右へ順に製品欄，インターフェース欄，パラメータ欄および結果欄です。下図のようにそれぞれのカテゴリーで対応する操作を実行でき、最後に結果欄でリクエストを送信してレスポンス結果および関連するプロセスパラメータ情報を取得できます。
![](https://qcloudimg.tencent-cloud.cn/raw/2304f363c6f61cef274e47804f34e3a4.png)

COSリクエストツールに関する詳細な操作は以下の手順をご確認ください。

**1. COS製品の選択**

一番左側の製品欄内で**COS**をクリックすると、APIインターフェース欄内のCOSに関連するAPIインターフェースを確認することができます。

>?COSリクエストツールはTencent Cloud API3.0プラットフォームに統合され、このプラットフォームにはその他のTencent Cloud製品のAPI デバッグツールが搭載されています。同じようにニーズに応じてこのプラットフォーム上でその他の製品を選択し、対応するインターフェースをデバッグすることができます。

**2. デバッグする必要があるAPIインターフェースを選択します**

ニーズに応じて対応するAPIインターフェースを選択してデバッグを行うことができます。APIインターフェース欄には3つのクラスとCOSに関連するAPIインターフェースが表示されます： Serviceインターフェース、BucketインターフェースおよびObjectインターフェース。

- Serviceクラスのインターフェースは、例えばGET Serviceです。このAPIアカウント下の全てのバケット情報を一覧表示し、APIキー情報を入力する必要があります。アカウントの指定領域内のバケット情報を取得する必要がある場合は、パラメータ欄内で対応するリージョンを選択できます。このAPIの詳細情報について知りたい場合は、 [GET Service](https://intl.cloud.tencent.com/document/product/436/8291) ドキュメントをご参照ください。
- Bucketクラスのインターフェースには、バケットに操作を行うAPIインターフェース、例えばPUT Bucket lifecycleが含まれます。より詳しくBucketクラスのインターフェースについて知りたい場合は、[Bucketインターフェース](https://www.tencentcloud.com/document/product/436/7731)をご参照ください。
Objectクラスのインターフェースには、各オブジェクトに操作を行うことができるAPIインターフェース、例えばPUT Objectが含まれます。より詳しくObjectクラスのインターフェースについて知りたい場合は、[Objectインターフェース](https://www.tencentcloud.com/document/product/436/7739)をご参照ください。

**3. APIに必要なパラメータ情報の入力**

パラメータ欄には、選択したAPIインターフェースの入力必須パラメータが表示されます。COSに関する各APIインターフェースのパラメータ情報については、 [APIドキュメント](https://www.tencentcloud.com/document/product/436/10009) を参照し、ご確認ください。

APIキー情報はAPIインターフェースを呼び出す段階で入力必須のパラメータです。APIインターフェースを使用してバケットまたはオブジェクトなどのリソースを操作する際は、APIキー情報を入力し、今回のAPI リクエスト操作を許可する必要があります。CAMコンソールの [APIキー管理](https://console.cloud.tencent.com/cam/capi) ページにアクセスしてAPIキー情報を取得することができます。

>?各APIインターフェースに対して、COSリクエストツールは各入力必須のパラメータ項目の後にすべて赤い星マークを追加してそのパラメータが入力必須項目であることを通知します。**入力必須パラメータのみを表示**にチェックを入れて、パラメータ欄の入力必須ではないパラメータの表示を減らすこともできます。

**4. リクエストの送信およびレスポンス結果の確認**

APIを選択し、対応するパラメータを入力した後、**オンラインコール**のオプションタブで**リクエストの送信**をクリックします。この時システムはリクエストをサーバーに送信し、リクエストに応じてバケットまたはオブジェクトリソースを操作します。

>!COSリクエストツールが送信したリクエストを実際にCOSの業務サーバーに送信します。**すべての操作は実際の操作に等しいため、DELETE系の操作を選択する場合は慎重に操作してください。**

リクエストの送信後に、返された結果およびリクエストパラメータは結果欄の下部に表示されます。結果欄下部では、**リクエストパラメータ**でHTTPリクエストボディ情報を確認できます。**レスポンス結果**で今回のリクエストのレスポンスボディ情報が確認できます。**署名プロセス**で今回のリクエストに関する署名およびその生成プロセスが確認でき、同時にシステムは**Curl**でCurl呼び出しのステートメントを提供します。

**事例**

GET Objectを例に取ると、リクエストの送信によって名前が0001.txtのファイルを取得したい場合、**リクエストパラメータ**内に今回のリクエストのリクエストパラメータ情報が表示されます。今回のリクエストのリクエスト例は次のとおりです。
```http
GET https://bucketname-appid.cos.ap-region.myqcloud.com/0001.txt
Host: bucketname-appid.cos.ap-region.myqcloud.com
Authorization: q-sign-algorithm=sha1&q-ak=AKIDwqaGoCIWIG4hDWdJUTL5e3hn04xi****&q-sign-time=1543398166;1543405366&q-key-time=1543398166;1543405366&q-header-list=host&q-url-param-list=&q-signature=f50ddd3e0b54a92df9d4efe2d0c3734a8c90****
```

最初の行に表示されるのはHTTP Verbおよびアクセスのリンクです。次の行に表示されるのはアクセスするドメイン名です。最後の行に表示されるのは今回のリクエストの署名情報です。PUTクラスのリクエストは、そのリクエストヘッダー情報が複雑ですが、同様にいくつかのパブリックリクエストヘッダーが存在します。パブリックリクエストヘッダーに関する情報は、 [パブリックリクエストヘッダー](https://intl.cloud.tencent.com/document/product/436/7728)をご参照ください。

**署名プロセス**では今回のリクエストに関する署名およびその生成プロセスを確認することができます。署名アルゴリズムに関する詳細の紹介は[リクエスト署名](https://intl.cloud.tencent.com/document/product/436/7778) を参照し、詳細をご確認ください。リクエスト署名に生成およびデバッグを行う場合は、COS署名ツールを使用することをお勧めします。

COSが返したレスポンス結果は以下のとおりです。

```http
200 OK
content-type: text/plain
content-length: 6
connection: close
accept-ranges: bytes
date: Wed, 28 Nov 2018 09:42:49 GMT
etag: "5a8dd3ad0756a93ded72b823b19dd877"
last-modified: Tue, 27 Nov 2018 20:05:26 GMT
server: tencent-cos
x-cos-request-id: NWJmZTYzMTlfOWUxYzBiMDlfOTA4NF8yMWI2****
x-cos-version-id: MTg0NDY3NDI1MzAzODkyMjU****
hello!
```

最初の行の200 OKはそのリクエストが返された状態コード情報を表し、リクエストが失敗した場合は、対応するエラーコードを返します。エラーコードに関する詳細情報は、 [エラーコード](https://intl.cloud.tencent.com/document/product/436/7730) ドキュメントをご参照ください。その後はレスポンスヘッダー情報で、異なるAPIのレスポンスボディにはいずれも違いがありますが、いくつかのパブリックレスポンスヘッダー情報が存在します。パブリックレスポンスヘッダーに関する詳細情報は、 [パブリックレスポンスヘッダー](https://intl.cloud.tencent.com/document/product/436/7729)をご参照ください。



## 注意事項
**リクエストの送信**をクリックして、入力必須のパラメータを入力したリクエストがCOSサーバーに送信されたことを確認すると、COSはバケットとオブジェクトに対応する操作を行います。この操作は取り消し、ロールバックする事ができません。慎重にご検討ください。
