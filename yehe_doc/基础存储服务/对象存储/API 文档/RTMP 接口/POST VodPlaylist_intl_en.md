## Description

This API is used to generate a VOD playlist for a specified live channel. COS queries the TS files generated by `LiveChannel` according to the period specified in the request, generates an M3U8 playlist, and uploads the playlist to the bucket.

## Request

#### Sample request

```plaintext
POST /<ChannelName>/<PlaylistName>?vod&starttime=StartTime&endtime=EndTime HTTP 1.1
Host: <BucketName-APPID>.cos.<Region>.myqcloud.com
Date: GMT date
Content-Length: Content Size
Content-Md5: Content MD5
Authorization: Auth String

```

>? Authorization: Auth String (see [Request Signature](https://intl.cloud.tencent.com/document/product/436/7778) for details).


#### Request parameters

| Parameter | Description | Type | Required |
| ------------ | ------------------------------------------------------------ | ------ | :------- |
| ChannelName | Specifies the name of `LiveChannel`, which must exist | String | Yes |
| PlaylistName | Specifies the name of the M3U8 file for VOD. The file extension must be `.m3u8`.<br/>The name can contain 6 to 128 characters. The default value is `playlist.m3u8`.<br/>Note: The generated playlist name (object name) is `ChannelName/PlaylistName` | String | Yes |
| StartTime | Specifies the start time (in seconds) of the TS file you want to query. It is a Unix timestamp. | String | Yes |
| EndTime | Specifies the end time (in seconds) of the TS file you want to query. It is a Unix timestamp.<br/>Note: `EndTime` must be later than `StartTime` and the time span between the two should not be longer than one day. | String | Yes |



#### Request headers

This API only uses common request headers. For more information, please see [Common Request Headers](https://intl.cloud.tencent.com/document/product/436/7728).

#### Request body

This request has no request body.

## Response

#### Response headers

This API returns only common response headers. For more information, please see [Common Response Headers](https://intl.cloud.tencent.com/document/product/436/7729).

#### Response body

The response body of this API is empty.

#### Error codes

This API returns common error responses and error codes. For more information, please see [Error Codes](https://intl.cloud.tencent.com/document/product/436/7730).



## Sample

#### Request

```plaintext
POST /test-channel-0/playlist123.m3u8?vod\&starttime=1606523814\&endtime=1606552614 HTTP 1.1
Host: examplebucket-1250000000.cos.ap-guangzhou.myqcloud.com
Date: GMT date
Content-Length:Content Size
Content-Md5:Content MD5
Authorization: Auth String

```

#### Response

```plaintext
HTTP/1.1 200 OK
Content-Type: application/xml
Content-Length: 0
Connection: keep-alive
Date: Wed, 23 Aug 2020 08:14:53 GMT
Server: tencent-cos
x-cos-request-id: NTk5ZDM5N2RfMjNiMjM1MGFfMmRiX2Y0****
```

The object name of the generated VOD playlist is `test-channel-0/playlist123.m3u8`, and the object content is as follows:

```plaintext
#EXTM3U
#EXT-X-VERSION:3
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-TARGETDURATION:3
#EXTINF:3,
1606549744437_1_3000.ts
#EXTINF:3,
1606549747445_1_3000.ts
#EXTINF:3,
1606549750431_1_3000.ts
#EXTINF:3,
1606549753441_1_3000.ts
#EXTINF:3,
1606549756447_1_3000.ts
#EXTINF:3,
1606549759438_1_3000.ts
#EXTINF:3,
1606549762443_1_3000.ts
#EXTINF:0.947,
1606549763773_1_947.ts
#EXTINF:3,
1606551019369_1_3000.ts
#EXTINF:2.307,
1606551021973_1_2307.ts
#EXTINF:1.957,
1606551134831_1_1957.ts
```



