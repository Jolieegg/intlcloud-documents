## 概要

Cloud Object Storage（COS）バケットのドメイン名管理設定ページには、デフォルトのアクセラレーションドメイン名、カスタムCDNアクセラレーションドメイン名、カスタムオリジンサーバードメイン名という3つの機能の設定があります。そのうちデフォルトのアクセラレーションドメイン名とカスタムCDNアクセラレーションドメイン名の設定は、CDNサービスに論理的にバインドされています。従って、サブアカウントがCOSバケットのデフォルトアクセラレーションドメイン名とCDNアクセラレーションドメイン名を設定する必要がある場合、COSサービスの管理権限（バケットの基本設定権限など）だけでなく、**CDNサービス**の追加設定に関する権限も付与する必要があります。

リソースセキュリティ管理のため、**サブアカウント**にCDNサービスに関する権限を付与していない場合、**サブアカウント**は、デフォルトではCOSバケットのデフォルトアクセラレーションドメイン名およびCDNアクセラレーションドメイン名を設定する権限を持たなくなります。そのため、権限を付与していない場合には、サブアカウントが[COSコンソール](https://console.cloud.tencent.com/cos5)のドメイン名管理設定ページにログインすると、下図のように、アクセス権限がない旨のメッセージが表示されます。
![](https://main.qcloudimg.com/raw/88c11a1973f03c83831cf87845ee7a01.png)


サブアカウントでCOSバケットのデフォルトアクセラレーションドメイン名とCDNアクセラレーションドメイン名を通常どおり設定できるようにしたい場合は、[CAMコンソール](https://console.cloud.tencent.com/cam/overview)でサブアカウントへの権限承認をする必要があります。詳細な手順は次のとおりです。

## 操作手順

1. CAMコンソールにログインし、[ポリシー管理](https://console.cloud.tencent.com/cam/policy)ページに進みます。
2. **カスタムポリシーの新規作成>製品機能またはプロジェクトによる権限の作成**をクリックし、サービスタイプ設定ページに進みます。
>? 権限の設定は、デフォルトでは**ルートアカウント**で行います。お客様がサブアカウントであり、サブアカウントで権限承認を行いたい場合は、ルートアカウントがお客様に対し権限の設定を行う権限を承認していることを確認してください。ここでルートアカウントから付与される必要のある関連ユーザーポリシーは、QcloudCamFullAccessです。
>
3. ポリシー名（例：COS_DomainAccess）を入力し、サービスタイプとして**CDN**を選択し、**次のステップ**をクリックします。

4. 業務上の必要性に応じて、ユーザーに必要な機能インターフェースの権限を承認します。
サブアカウントがCOSバケットのデフォルトのアクセラレーションドメイン名とCDNアクセラレーションドメイン名にアクセスし、これらを設定する動作には、**ドメイン名情報の照会、ドメイン名の追加、ドメイン名のオンライン/オフライン、ドメイン名の削除、ドメイン名設定の変更**の5つの機能が含まれます。サブアカウントがバケットのドメイン名設定ページで、すべてのアクセラレーションドメイン名とカスタムアクセラレーションドメイン名に関連する設定を**完全に読み取り/書き込み**できるようにしたい場合は、上記のすべての機能を有効にしてください。

5. 対応する機能を選択した後、**次のステップ**をクリックしてオブジェクトのバインドを開始します。
6. お客様の機能にオブジェクトを順番にバインドします。**オブジェクトのバインド>すべてのオブジェクト（今後購入する新しいリソースオブジェクトを含む）**を選択します。ここでは、ポリシー設定が完全に有効になるように、**必ず****すべてのオブジェクト（今後購入する新しいリソースオブジェクトを含む）**を選択する必要があります。

7. 権限設定情報に誤りがないことを確認し、**完了**をクリックすると、カスタムポリシーの作成が完了します。
8. カスタムポリシーの作成が完了したら、[ユーザーリスト](https://console.cloud.tencent.com/cam)ナビゲーションバーに切り替えます。右側の**承認**をクリックして、サブユーザーを作成したカスタムポリシーにバインドします。
![](https://main.qcloudimg.com/raw/f394425f8997d39d339e6327a2c94fd5.png)
9. **ポリシーのバインド**のポップアップウィンドウで、先ほど作成したカスタムポリシーを検索してチェックを入れ、**OK**をクリックすれば完了です。
![](https://main.qcloudimg.com/raw/c5dc62d62250a19ceac131b637ef513f.png)
10. ポリシーのバインドが完了すると、このサブユーザーの承認プロセスが完了します。このサブユーザーを使用して[COSコンソール](https://console.cloud.tencent.com/cos5)にログインすると、下図のように、COSバケットのデフォルトのアクセラレーションドメイン名とCDNアクセラレーションドメイン名に通常どおりアクセスし、設定することができます。
![](https://main.qcloudimg.com/raw/5ff57238dbe3685b020c746bf10573ba.png)
