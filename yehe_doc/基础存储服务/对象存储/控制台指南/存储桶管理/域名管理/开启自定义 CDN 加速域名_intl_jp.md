## 概要

ここでは、Cloud Object Storage（COS）コンソールにカスタムアクセラレーションドメイン名を追加し、CDNアクセラレーションを有効にすることについてのみご説明します。CDNコンソールからカスタムドメイン名を追加したい場合は、CDNの[ドメイン名へのアクセス](https://intl.cloud.tencent.com/document/product/228/32978)のドキュメントをご参照ください。 


## 操作手順

1. [COSコンソール](https://console.cloud.tencent.com/cos5)にログインします。左側ナビゲーションバーの**バケットリスト**をクリックし、バケットリストページに進みます。
2. ドメイン名を設定する必要があるバケットをクリックし、バケット設定ページに進みます。
3. 左側の**ドメイン名と伝送管理>カスタムCDNアクセラレーションドメイン名**の設定項目をクリックし、**ドメイン名の追加**をクリックして、以下のオプションを設定します。
>? 以前に旧バージョンのCOSコンソールで「カスタムドメイン名」を使用したことがある場合は、新バージョンのコンソールで「カスタムCDNアクセラレーションドメイン名」とは表示されず、 「カスタムドメイン名」のままとなります。
>

  - **ドメイン名**：バインド対象のカスタムドメイン名（例えば`www.example.com`）を入力します。入力するドメイン名はICP登録済みであること、およびDNSサービスプロバイダが対応するCNAMEを設定していることが必要です。詳細については、[CNAME設定](https://intl.cloud.tencent.com/document/product/228/3121)をご参照ください。アクセスするカスタムCDNアクセラレーションドメイン名が次に該当する場合は、ドメイン名所有権の検証を行う必要があります。詳細については、[ドメイン名所有権の検証](https://intl.cloud.tencent.com/document/product/228/42693)のドキュメントをご確認ください。
     - このドメイン名を初めて接続する
     - このドメイン名が他のユーザーによって接続されている
     - 接続するドメイン名が汎用ドメイン名である
  - **アクセラレーションリージョン**：中国本土、中国本土以外およびグローバルアクセラレーションをサポートしています。グローバルアクセラレーションとは、すべてのリージョン間でのバケットアクセラレーションをサポートすることを指します。
  - **オリジンサーバータイプ**：デフォルトのオリジンサーバーと静的ウェブサイトという2タイプがあります。バケットで静的ウェブサイト機能が有効になっている場合は静的ウェブサイトのオリジンサーバーになり、そうでない場合はデフォルトのオリジンサーバーになります。カスタムCDNアクセラレーションドメイン名を静的ウェブサイトとして使用する必要がある場合は、静的ウェブサイトのオリジンサーバーを使用し、バケットの静的ウェブサイト機能を有効にしてください。
  - **認証**：back-to-origin認証をオンにします。プライベート読み取りバケットに対しては、**back-to-origin認証**を有効化してオリジンサーバーを保護してください。
>!プライベート読み取りバケットに対して、back-to-origin認証とCDNサービス権限承認を同時に有効化すると、CDNがオリジンサーバーへアクセスする際に署名を必要としないため、CDNキャッシュリソースがパブリックネットワーク配信を行い、データセキュリティに影響を与えます。CDN認証を有効化することをお勧めします。手順5に従って操作してください。
  - **CDNキャッシュの自動更新**：有効化すると、COSバケットのファイル更新ルールをトリガーした際にCDNキャッシュを自動更新します。COSの関数の計算で設定できます。操作ガイドは[CDNキャッシュ更新の設定](https://intl.cloud.tencent.com/document/product/436/37273)をご参照ください。
  - **HTTPS証明書**：カスタムCDNアクセラレーションドメイン名に HTTPS証明書を追加する必要がある場合は、[CDNコンソール](https://console.cloud.tencent.com/cdn/certificate)で設定できます。
4. 設定が完了したら、右側アクションバーで**保存**をクリックしてドメイン名を追加します。保存後、**認証**バーにCDN認証機能スイッチが表示され、カスタムドメイン名のCDN認証を有効化できるようになります。
**CDN認証：**タイムスタンプ認証設定を有効化すると、ユーザーコンテンツの悪質な盗難を防止できます。ドメイン名追加完了後に設定する必要があります。
> !ユーザーがカスタムドメイン名でCDNアクセラレーションを有効化すると、このドメイン名によって誰でもオリジンサーバーに直接アクセスできるようになります。従って、データに一定のプライバシーが存在する場合は、必ず**認証設定**からオリジンサーバーデータを保護してください。
5. [CDNコンソール](https://console.cloud.tencent.com/cdn/access)にログインし、左側ナビゲーションバーで**ドメイン名管理**をクリックします。
6. 設定が必要なドメイン名を見つけ、その右側のアクションバーにある**管理**をクリックし、ドメイン名管理ページに進んでから、**アクセス制御**>**認証設定**をクリックします。具体的な設定手順については、[設定の説明](https://intl.cloud.tencent.com/document/product/228/35237)のドキュメントの認証設定の箇所をご参照ください。


