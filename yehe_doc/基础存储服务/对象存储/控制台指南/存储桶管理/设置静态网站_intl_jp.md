## 概要

COSコンソールから、静的ウェブサイトをホストするようにバケットを設定することで、バケットの静的ウェブサイトドメイン名により静的ウェブサイトにアクセスできます。静的ウェブサイトに関連する説明については、[静的ウェブサイトのホスト](https://intl.cloud.tencent.com/document/product/436/30958)をご参照ください。

>!
>- バケットを使用して静的ウェブサイトをホストするには、まずバケットのアクセス権限を、**パブリック読み取り/プライベート書き込み**に設定する必要があります。
>- 静的ウェブサイトの設定を有効にした後は、静的ウェブサイトのドメイン名を使用してCOSオリジンサーバーにアクセスすることで有効となります。COSデフォルトドメイン名でアクセスした場合、静的ウェブサイトの効果は無効になります。
>

##  前提条件

バケットを作成します。詳細については、[バケットの作成](https://intl.cloud.tencent.com/document/product/436/13309)のドキュメントをご参照ください。

## 操作手順

1. [COSコンソール](https://console.cloud.tencent.com/cos5)にログインします。
2. 左側ナビゲーションバーで**バケットリスト**をクリックし、バケットリストページに進みます。
3. 静的ウェブサイトのホスティングに用いるバケットを見つけ、そのバケット名をクリックし、バケット詳細ページに進みます。
4. 左側ナビゲーションバーで、**権限管理>バケットのアクセス権限**をクリックし、パブリック権限バーで**パブリック読み取り/プライベート書き込み**を選択して保存します。
![](https://main.qcloudimg.com/raw/460f2cdd71d3a21a74911a52218e7670.png)
5. 左側ナビゲーションバーで、**基本設定>静的ウェブサイト**を選択し、静的ウェブサイトバーで**編集**をクリックし、**現在のステータス**のボタンをオンにします。
6. 静的ウェブサイトの設定項目を順番に入力します。
>!静的ウェブサイトのアクセスノードは、アルファベットの大文字と小文字を区別します。**インデックスファイル、エラーファイル、リダイレクトルールのプレフィックスマッチング**を設定する時は、入力するファイル名称と拡張子のアルファベットの大文字と小文字は、バケット内のファイルと一致させる必要があることに注意してください。
>
![](https://main.qcloudimg.com/raw/e7365ffd7beca545f275ec36cdaa8cce.png)
設定に関する説明は次のとおりです。
 - **HTTPSの強制（オプション）**：HTTPSの強制を有効にすると、ユーザーが静的ウェブサイトにアクセスする際に、静的ウェブサイトのアクセスノードが強制的にHTTPSプロトコルを使用して開かれるようになります。
>! カスタムドメイン名を使用して静的ウェブサイトにアクセスすると同時に、静的ウェブサイトでHTTPSの強制が有効になっている場合は、カスタムドメイン名に関する証明書が正しく設定されていることを確認してください。証明書に異常がある場合、デフォルトドメイン名にジャンプしてからアクセスすることになります。
>
 - **html拡張子を無視する（オプション）**：アクセスパスがindexの場合、自動的にindex.htmlオブジェクトにマッチングして返されます。
 - *インデックスドキュメント（入力必須）**：インデックスドキュメント（静的ウェブサイトのホームページ）は、ユーザーがウェブサイトのルートディレクトリまたは任意のサブディレクトリにリクエストを送信したときに返されるページで、通常このページは`index.html`と命名されます。
>! バケット内にフォルダを作成した場合、各フォルダレベルでインデックスドキュメントを追加する必要があります。
>
 - **エラードキュメント（オプション）**：エラードキュメントとは、静的ウェブサイトにアクセスした際、エラーが発生した後に返されるページのことです。この設定項目は、独自のエラードキュメントを定義するのに便利です。静的ウェブサイトがユーザーのリクエストに応答できない時、指定されたカスタムエラーページが返されます。例えば、error.htmlと命名されたエラードキュメントを設定すると、ユーザーがアクセスした際にHTTPエラーが発生した場合、ページはerror.htmlのページを返してヘルプやガイダンスを提供します。エラードキュメントを設定しないと、ユーザーがアクセスした際にHTTPエラーが発生した場合、そのページはデフォルトのエラーメッセージを返します。
>! エラードキュメントの設定により、バケットのルートディレクトリまたはサブディレクトリ内のファイルをサポートすることができます。ブラウザが認識できる`.html`または`.htm`といった形式のファイルを使用してください。ブラウザが認識できない、`.zip`などのファイルを使用した場合、ほとんどのブラウザでエラーが表示され、アクセスできないか、アクセスのリクエストが拒否されます。
>
 - **エラードキュメントレスポンスコード**：エラードキュメントが設定されている場合、この項目が表示されます。エラードキュメントを返すときのHTTPレスポンスコードは、元のエラーコードまたは200に設定できます。
 - **リダイレクトルール（オプション）**：リダイレクトルールを使用すると、特定のファイルパス、リクエストのプレフィックス、またはレスポンスコードに基づき、条件に従ってリクエストをリダイレクトすることができます。
例えば、バケット内のファイルを削除したり、リネームしたりする場合です。リダイレクトルールを追加すると、そのファイルにアクセスするリクエストを別のファイルにリダイレクトすることができます。
    - エラーコード：現在、リダイレクトルールは`4xx`エラーコード（例: 404）に対するリダイレクト設定のみをサポートしています。オプションでエラーページをカスタマイズすることができます。ユーザーが対応するHTTPエラーをトリガーした場合、そのエラーページでその他のガイダンスをユーザーに提供できるようにすることができます。
    - プレフィックスマッチング：プレフィックスマッチングルールを使用して、バケット内のファイルまたはフォルダに対しリダイレクトを設定することができます。具体的な事例については、[リダイレクトルールの例](https://intl.cloud.tencent.com/document/product/436/30958#.E9.87.8D.E5.AE.9A.E5.90.91.E8.A7.84.E5.88.99)をご参照ください。
    >!プレフィックスマッチングはワイルドカードをサポートしていません。プレフィックスを index1/、index2/ という2つのフォルダとしてリダイレクトしたい場合、 `index*/` をマッチングルールとして使用することはできず、対応するマッチングルールをそれぞれ作成する必要があります。
7. 設定が完了したら、**保存**をクリックして終了します。



