## 소개

버킷 복사 기능을 활성화하면 원본 버킷 내 **증분 객체**를 다른 리전의 타깃 버킷에 자동으로 비동기화하여 복사할 수 있습니다. 원본 버킷 내 객체에 추가 또는 삭제 등의 관리 작업을 하면 Cloud Object Storage(COS)가 동일한 작업을 타깃 버킷에 자동으로 복사합니다. 실제 요구사항에 맞춰 버킷 복사를 활성화하거나 비활성화할 수 있으며, 자세한 내용은 [버킷 복제 개요](https://intl.cloud.tencent.com/document/product/436/19237)를 참고하십시오.

## 전제 조건

버킷 복사 기능을 활성화하기에 앞서, 원본 버킷과 타깃 버킷이 모두 [버전 관리](https://intl.cloud.tencent.com/document/product/436/19881) 기능을 활성화했는지 확인하십시오.

## 작업 단계

### 버킷 복사 활성화

1. [COS 콘솔](https://console.cloud.tencent.com/cos5)에 로그인합니다.
2. 왼쪽 사이드바에서 **버킷 리스트**를 클릭합니다.
3. 버킷 복제를 구성해야 하는 소스 버킷을 클릭하여 버킷 세부 정보 페이지로 이동합니다.
4. 왼쪽의 **내고장성 및 재해 복구 관리 > 버킷 복사**를 클릭합니다.
5. **버킷 복사** 열에서 **규칙 추가**를 클릭합니다.
![](https://main.qcloudimg.com/raw/910b0ddbe6f3bb0093544b5c21a07ca0.png)
6. 팝업 창에서 버킷 복사 규칙을 구성하고 **확인**을 클릭합니다.
>? 소스 및 대상 버킷 모두에 대해 버전 관리가 활성화되지 않은 경우 먼저 활성화한 다음 버킷 복사 규칙을 구성하십시오.
>
![](https://main.qcloudimg.com/raw/2a167db6422d4de507d3851d9965ab37.png)
다음은 설정 항목에 관한 설명입니다.
<table>
	<tr><th style="width: 18%">설정 항목</th><th>설정 설명</th></tr>
	<tr><td>소스 리전</td><td>소스 버킷이 있는 리전입니다.</td></tr>
	<tr><td>적용 범위</td><td>소스 버킷에서 복제할 객체를 나타냅니다. 기본 옵션은 전체 버킷입니다. 접두사가 지정되면 `logs/' 접두사가 붙은 파일과 같이 이 접두사가 있는 객체만 복제됩니다.</td></tr>
	<tr><td>리소스 경로</td><td>소스 버킷의 경로입니다.</td></tr>
	<tr><td>대상 버킷</td><td>복제된 객체를 저장할 버킷입니다. 소스 버킷과 동일한 리전에 있을 수 있습니다. 각 리전의 현재 계정에서 하나의 버킷만 선택할 수 있습니다.</td></tr>
	<tr><td>대상 스토리지 클래스</td><td>복제본의 스토리지 클래스입니다. 스토리지 클래스는 기본적으로 소스 개체의 스토리지 클래스와 동일합니다. 다른 스토리지 클래스를 선택할 수도 있습니다.</td></tr>
	<tr><td>동기화 삭제 마커</td><td>버전 ID를 지정하지 않고 버전 관리가 활성화된 버킷에서 객체를 삭제하려고 하면 COS가 객체에 삭제 마커를 추가합니다. 이 옵션을 선택하면 교차 버킷 복제가 이 삭제 마커를 대상 버킷에 복사합니다. 삭제 마커의 복사 여부에 관계없이 대상 버킷에서 객체가 삭제되지 않습니다. 버전 ID를 지정하여 항상 이전 버전의 객체에 액세스할 수 있습니다. 자세한 내용은 <a href="https://intl.cloud.tencent.com/document/product/436/19883">버전 제어 개요</a>문서를 참고하십시오.</td></tr>
</table>
>!
> - 규칙 설정을 완료한 뒤 규칙을 관리할 수 있습니다. 버튼을 클릭하여 현재 규칙을 활성화하거나 비활성화할 수 있으며, 편집 버튼을 클릭하여 현재 규칙을 수정할 수 있습니다.
> - 최초 버킷 복사 규칙 설정 시 적용 범위를 버킷 내 모든 콘텐츠 복사로 설정하면 규칙을 새로 추가할 수 없습니다. 현재 규칙을 편집하거나 삭제한 뒤 다시 추가하는 방식으로 변경해야 합니다.
> - 최초 버킷 복사 규칙 설정 시 적용 범위를 특정 접두사를 가진 콘텐츠로 설정하면, 현재 규칙을 편집하여 적용 범위를 버킷 내 모든 콘텐츠로 변경할 수 있습니다.
> 

### 버킷 복사 비활성화

비활성화 상태 버튼과 규칙 삭제의 두 가지 방법으로 버킷 복사 기능을 비활성화할 수 있습니다.

- **비활성화 상태 버튼**: 특정 규칙의 상태 버튼을 비활성화하면 임시로 현재 규칙을 적용하지 않을 수 있습니다. 이 방법으로 현재 버킷의 복사 기능을 일시 중지할 수 있으며, 이미 복사한 데이터는 타깃 버킷에 보관됩니다. 원본 버킷 내 증분 데이터는 더 이상 타깃 버킷으로 복사되지 않으며, 규칙을 재적용하려면 활성화 버튼을 클릭하십시오.
- **규칙 삭제**: **버킷 복사** 관리 항목에서 추가했던 규칙을 삭제하면 이미 설정했던 버킷 복사 규칙이 무효화되며, 기존에 복사한 데이터는 타깃 버킷에 보관됩니다. 원본 버킷 내 증분 데이터에 대한 버킷 복사 작업이 더 이상 실행되지 않으며, 규칙을 재적용하려면 새로 추가해야 합니다.
![](https://main.qcloudimg.com/raw/f26250880b0f298531e66a49ccea8dc5.png)

>!
> - 버킷 복사 도중에 버킷 복사를 비활성화하여 중단하면 버킷 복사 작업을 이어서 실행할 수 없습니다.
> - 객체에 대한 버킷 복사를 재활성화하면, 활성화 완료 이후 추가된 객체에 대해서만 버킷 복사 작업이 적용됩니다.
> 

