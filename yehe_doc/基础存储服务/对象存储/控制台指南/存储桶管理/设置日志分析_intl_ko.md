## 소개

COS(Cloud Object Storage) 로그 스토리지 기능을 활성화한 후 로그 분석 기능을 활성화하여 생성된 로그 파일에 대한 추가 데이터 분석을 수행할 수 있습니다. 로그 분석 기능은 데이터 분석을 위해 지정된 시간 범위 내에서 로그 파일을 통합하고 볼 수 있는 주요 지표를 추출합니다.

## 전제 조건

로그 분석 기능을 사용하기 위해서는 먼저 [COS 로그 스토리지 서비스](https://intl.cloud.tencent.com/document/product/436/17040) 활성화가 필요하며, 이후 로그 분석 SCF(Serverless Cloud Function)를 생성해야 하며, 생성 가이드는 [COS 로그 분석 함수 추가](https://intl.cloud.tencent.com/document/product/436/45569)를 참고하십시오.

## 작업 단계

1. [COS 콘솔](https://console.cloud.tencent.com/cos5)에 로그인합니다.
2. 왼쪽 사이드바에서 **버킷 리스트**를 클릭하여 버킷 리스트 관리 페이지로 이동합니다.
3. 로그 분석을 진행할 버킷 이름을 클릭하여 버킷 관리 페이지로 이동합니다.
4. 왼쪽 사이드바에서 **로그 관리**를 선택하고 **로그 스토리지**를 클릭합니다.
>! 로그 분석 기능을 사용하여 먼저 로그 스토리지 서비스를 활성화해야 하며, [로그 관리 설정](https://intl.cloud.tencent.com/document/product/436/17040)을 참고하여 로그 저장 서비스를 활성화하십시오.
>
5. COS 로그 분석 함수를 추가한 경우 아래 COS 로그 분석 섹션에서 **시작하기**를 클릭하면 시스템에서 COS 로그 분석 함수 규칙을 추가했는지 점검합니다.
COS 로그 분석 함수를 추가하지 않으셨다면 [COS 로그 분석 함수 추가](https://intl.cloud.tencent.com/document/product/436/45569)를 참고하여 함수를 추가하십시오.
6. COS 로그 분석 함수를 추가한 후, 이 페이지에서 해당 함수 이름을 선택하고, 분석하고자 하는 로그 기간을 선택하고, **분석 작업 생성**을 클릭하고 팝업 창에서 다음 정보를 설정합니다. 

 - **시간 범위**: 분석할 로그 시간대는 **요청 종료 시간**으로 검색되며 최대 30일까지 지원됩니다. 지정된 기간 내 로그 파일의 총 크기는 200GB를 초과할 수 없습니다.
 - **SCF 선택**: 현재 버킷이 위치한 리전에 추가된 COS 로그 분석 함수를 선택합니다.
 - **제품 배송 디렉터리**: 로그 분석 후, 시스템은 분석 결과 제품을 포장하여 지정한 배송 디렉터리에 저장합니다. 제품에는 **결과 파일** 및 **매니페스트 파일**이 포함되어 있습니다. **결과 파일**은 선택한 분석 시나리오에 따라 분석한 결과입니다. **매니페스트 파일**은 이 분석에서 인덱스된 로그 파일의 리스트를 나타냅니다.
 - **시나리오 선택**: 현재 지원되는 로그 분석 시나리오입니다.
 - **N값**: 시나리오의 N에 대한 값을 정수로 입력합니다.
 - **작업 설명**: 이 분석에 대한 설명을 사용자 정의할 수 있습니다.
7. 설정 사항을 확인한 후, **확인**을 클릭하면 추가 완료된 분석 작업을 확인할 수 있습니다.

   생성된 분석 작업에 대해 다음 작업을 수행할 수 있습니다.
 - **결과 조회**를 클릭하면 이 로그 분석의 결과와 결과 파일이 저장된 주소를 볼 수 있습니다.
>! 
>- 최근 3일 동안 생성된 로그 분석 작업을 쿼리할 수 있습니다.
>- 로그 분석 작업이 실행 완료될 때까지 기다려야 결과를 조회할 수 있으며, 로그 분석은 로그 크기에 따라 보통 몇 분에서 수십 분이 소요됩니다.
 - **실행 로그**를 클릭하면 SCF 콘솔로 리디렉션하여 COS 로그 분석의 실행 로그를 조회할 수 있습니다.
