## 概要
バケットのバージョン管理機能を有効にすると、バケット内にオブジェクトの複数のバージョンを保存でき、なおかつ指定したバージョンのオブジェクトを検索、削除または復元できるようになります。ユーザーが誤って削除したデータや、アプリケーションプログラムの障害によって消失したデータの回復に役立ちます。ここでは、コンソールでバケットのバージョン管理を有効にする方法をご説明します。バージョン管理の詳細については、[バージョン管理の概要](https://intl.cloud.tencent.com/document/product/436/19883)をご参照ください。

>!
>- 一度バージョン管理を有効にしたバケットは、バージョン管理を有効にしていない状態（初期状態）に戻すことはできません。ただし、このバケットのバージョン管理を一時停止することはでき、その後に新たにアップロードされる同じ名前のオブジェクトでは複数のバージョンが生成されなくなります。
>- バージョン管理機能を有効にしている場合、新たにアップロードする同じ名前のオブジェクトには複数のバージョンが生成され、ストレージスペースを占有します。このためこれらのバージョンのオブジェクトも同様にストレージ料金の課金対象となります。
>- 旧バージョンを完全に削除するには、バージョンIDを指定して完全に削除してください。
>

## 操作手順
1. [COS](https://console.cloud.tencent.com/cos5)コンソールにログインします。
2. 左側ナビゲーションバーで**バケットリスト**をクリックし、バケットリストページに進みます。
3. バージョン管理を設定したいバケットをクリックし、バケット詳細ページに進みます。
4. 左側の**障害復旧管理**>**バージョン管理**をクリックし、現在のステータスを有効に変更してから保存します。
5. ポップアップした確認ウィンドウで**OK**をクリックすると、バージョン管理が有効になります。
バージョン管理機能を使用する必要がない場合は、現在の「有効」ボタンを「無効」に変更します。
6. バージョン管理を有効にした後、同じ名前のファイルをこのバケットにアップロードする場合は、ファイルリストインターフェースで**旧バージョンの一覧表示**をクリックすると、異なる時点でアップロードされた同名のファイルを確認することができます。また、最新バージョン、旧バージョンおよび削除マーカーバージョンに対し、さまざまな操作を行うことができます。
7. 旧バージョンのファイルは、**復元**、**ダウンロード**、**詳細**、**削除**といった操作をサポートしています。
>? コンソールから旧バージョンを完全に削除するには、コンソールのバケットのファイルリストから**旧バージョンの一覧表示**をしたうえで、指定バージョンのファイルを削除します。
>
8. ファイルを削除すると、削除されたファイルの記録が表示され、削除前の同名ファイルは残ります。バージョンに応じて、ファイルを削除または復元することができます。
![](https://main.qcloudimg.com/raw/115cf04687fb375105eddbb9bd883809.png)
