## 概要

Cloud Object Storage（COS）コンソールにログインすると、バケットのログ管理を有効にすることができます。COSが提供するログ管理機能によって、**バケット操作**に関するさまざまなリクエストログを記録することができます。ログ管理機能を有効にすることで、バケットをより適切に管理、使用することができます。ログ管理の詳細については、[ログ管理の概要](https://intl.cloud.tencent.com/document/product/436/16920)をご参照ください。

>!
>- 現在、COSのログ管理機能でサポートされているリージョンには、北京、上海、広州、南京、重慶、成都、中国香港、シンガポール、ソウル、トロント、シリコンバレー、ムンバイがあります。
>- 現在、**バケット所有者**のみがログ管理を設定する権限を持っています。他のユーザーがコンソールにログインしても、**ログ管理**の設定項目は表示されません。 
>- ログデータは5分ごとに配信されます。COSはログデータの100%の正確性を保証するものではなく、あくまでも参考用であり、計測や課金の根拠とはなりません。
>

## 操作手順

1. [COSコンソール](https://console.cloud.tencent.com/cos5)にログインします。
2. 左側ナビゲーションバーで**バケットリスト**をクリックし、バケットリスト管理ページに進みます。
3. ログ管理を有効にしたいソースバケットを見つけ、そのバケット名をクリックし、バケット管理ページに進みます。
4. 左側ナビゲーションバーで、**ログ管理 > ログストレージ**を選択し、**編集**をクリックして現在のステータスを「有効」に変更します。
5. ログストレージの設定項目で、以下の説明に従って設定します。
![](https://main.qcloudimg.com/raw/d5fa347da09d92b5f757e32c910739e3.png)
 - **ターゲットバケット**：ログ管理が有効になっている**ソースバケット**とログが保存されている**ターゲットバケット**は、同じリージョンにある必要があります。COSは、ソースバケットをログを保存するためのバケットとして設定することを推奨していません。
 - **パスプレフィックス**：ログを見つけやすくするために、カスタムのパスプレフィックスを入力します。入力しない場合は、デフォルトでターゲットバケットのルートパスとなります。
 - **サービス権限の承認**：CLS製品サービスがアクセスログをバケットに配布するための承認が必要です。
6. 入力情報が正しいことを確認したら、**保存**をクリックします。この時点で、ログ管理機能が有効になります。
>? ログが発行され、ターゲットバケットに配布されるまでには数分以上かかる場合があります。しばらくお待ちください。
>
7. ログを保存するように以前に設定したターゲットバケットを見つけると、発行されたログファイルを確認することができます。
![](https://main.qcloudimg.com/raw/ef5f9cd836f3f50ee3e21fa58fc69baf.png)
8. ログファイルをダウンロードすると、フィールドの説明に従ってログを確認することができます。詳細については、[ログ管理の概要](https://intl.cloud.tencent.com/document/product/436/16920)をご参照ください。


## 関連説明

1. ログ管理機能が有効になっている場合は、CAMコンソールでログロールを作成し、そのロールがターゲットバケットに対してログの読み取り/書き込み操作を許可する必要があります。
2. ログ管理機能が無効になっている場合、ログロールを削除しない限り、ターゲットバケットへのログの読み取り/書き込み操作を実行するロールの権限は削除されません。
