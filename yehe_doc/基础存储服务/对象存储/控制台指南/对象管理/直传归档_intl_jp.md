## 概要
Cloud Object Storage（COS）は現在、アーカイブへの直接伝送をサポートしており、オブジェクトをアーカイブタイプとして直接設定し、COSにアップロードすることができます。アーカイブへの直接伝送の方法としては、コンソール、API、SDK、COSCMDツールがあります。また、COSのライフサイクル機能を使用して、アップロードされたオブジェクトをアーカイブストレージタイプやディープアーカイブストレージタイプに移行することもできます。アーカイブタイプの詳細については、[ストレージタイプの概要](https://intl.cloud.tencent.com/document/product/436/30925)をご参照ください。


## アーカイブへの直接伝送方法

- コンソールを使用したアップロード
 [COSコンソール](https://console.cloud.tencent.com/cos5)の**ファイルのアップロード**でアップロードするオブジェクトを選択した後、オブジェクトのプロパティ設定でストレージタイプとして**アーカイブストレージ**または**ディープアーカイブストレージ**を選択します。詳細については、[オブジェクトのアップロード](https://intl.cloud.tencent.com/document/product/436/13321)をご参照ください。
![](https://main.qcloudimg.com/raw/8f3b05d1407a9017c54c86c9cec693c7.png)
- APIを使用したアップロード
PUT Object、POST ObjectまたはInitiate Multipart Uploadでx-cos-storage-classをARCHIVEまたはDEEP_ARCHIVEに設定することにより、アーカイブへの直接伝送が実現します。
>!Append Objectはアーカイブへの直接伝送をサポートしていません。
>
- SDKを使用したアップロード
現在COSがリリースしているすべてのSDKは、アーカイブへの直接伝送をサポートしています。具体的な方法としては、ファイルをアップロードする際にStorageClassパラメータをARCHIVEまたはDEEP_ARCHIVEに設定し、アーカイブへの直接伝送を実現するものです。
- COSCMDツールを使用したアップロード
COSCMDツールは、アーカイブへの直接伝送をサポートしています。具体的な方法は、ヘッダーフィールドx-cos-storage-classを追加し、それをARCHIVEまたはDEEP_ARCHIVEに設定して、アーカイブへの直接伝送を実現するものです。

#### アーカイブの復元とダウンロード
アーカイブストレージとディープアーカイブストレージタイプのオブジェクトに対するダウンロード操作は、標準ストレージ/低頻度ストレージとは異なります。アーカイブストレージはダウンロードする前に、まず復元操作（解凍）を行う必要があり、復元が完了した後にダウンロードを実行することができます。復元操作には、次の3種類の方法があります。
- 高速取得モード：時間は最短で、通常はデータの取得を完了するのに1～5分しかかかりません。
- 標準取得モード：標準取得モードを使用した場合、通常3～5時間でデータの取得が完了します。
- 一括取得モード：最も低コストで、通常5～12時間でデータの取得が完了します。

>?ディープアーカイブストレージタイプのファイルは、高速取得モードを使用した復元をサポートしていません。復元時間は、標準取得モードでは12～24時間、一括取得モードでは24～48時間です。

また、コンソール、API、SDK、COSCMDツールは、いずれもアーカイブストレージの復元とダウンロードに対応しています。

#### アーカイブへの直接伝送の制限に関する説明
- アーカイブストレージとディープアーカイブストレージタイプのオブジェクトをダウンロードする場合、まず復元してからダウンロードする必要があります。
- アーカイブストレージとディープアーカイブストレージタイプのオブジェクトをコピーする場合、まず復元してからコピーする必要があります。
- アーカイブストレージとディープアーカイブストレージタイプのオブジェクトは、クロスリージョンレプリケーションをサポートしていません。
- CASとディープアーカイブストレージタイプのオブジェクトは、標準ストレージ、低頻度ストレージなどのよりアクティブなストレージタイプへの変換をサポートしていません。

