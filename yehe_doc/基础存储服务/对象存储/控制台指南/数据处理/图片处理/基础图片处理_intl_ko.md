## 소개

본 문서는 콘솔을 통해 COS의 이미지 처리 기능을 사용하는 방법을 소개합니다. 다음 두 가지 방식을 통해 이미지 처리 기능을 사용할 수 있습니다. 이미지 처리 관련 설명을 알아보고 싶으면 [이미지 처리 개요](https://intl.cloud.tencent.com/document/product/436/35280)를 참고하십시오.

- **이미지 URL에 매개변수 추가**: 이미지에 있는 객체 주소(URL) 뒤에 관련 매개변수를 추가함으로써 이미지에 관련 처리를 진행할 수 있습니다.
- **이미지 양식 사용**: 양식 생성 방식을 통해 각각 다른 처리 효과를 저장하고, 양식을 사용해 이미지 통합 처리가 가능합니다. 여기에 설정된 양식은 이미지 다운로드 시 실시간 처리 매개변수를 위해 조합된 템플릿입니다.

> !
> - 이미지 처리 기능은 퍼블릭 클라우드 리전만 지원합니다.
> - 이미지 처리 기능은 CI에서 과금하는 과금 항목입니다. 자세한 과금 설명은 [과금 및 가격](https://intl.cloud.tencent.com/document/product/1045/33431)을 참고하십시오.


## URL 매개변수 추가

1. [COS 콘솔](https://console.cloud.tencent.com/cos5/bucket)에 로그인합니다.
2. 이미지가 있는 버킷을 찾아서 스토리지 이름을 클릭하여 버킷 관리 페이지로 이동합니다.
3. 이미지 파일의 오른쪽 작업 열 아래에서 [세부 사항]을 클릭해 파일 세부 사항 페이지로 이동합니다.
4. [객체 주소]를 복사해 브라우저 창 주소창에 붙여 넣습니다.
> !처리 이미지는 객체의 쓰기 권한이 있어야 하며, 객체 권한 관련 설정은 [객체의 액세스 권한 설정](https://intl.cloud.tencent.com/document/product/436/13327)을 참고하십시오.
5. 주소창에서 다음 형식에 따라 객체 주소 뒤에 관련 매개변수를 추가합니다. 이미지 처리 매개변수 및 설명에 대한 자세한 내용은 [CI 기초 이미지 처리](https://intl.cloud.tencent.com/document/product/1045/33694) API 문서를 참고하십시오.
```sh
객체 주소?처리 인터페이스 이름/처리 작업 이름/처리 매개변수
```
> !이미지 파일의 액세스 권한이 개인 읽기일 경우, 서명이 있는 주소에 이미지 처리 매개변수를 추가해야 합니다.

**예시: 이미지의 너비와 높이를 원본 이미지의 50%로 크기 조정**
원본 이미지 효과가 다음과 같다고 가정했을 때 객체의 액세스 권한은 공개 읽기, 개인 쓰기이며 객체 주소 URL은 `https://examplebucket-1250000000.cos.ap-chengdu.myqcloud.com/sample.jpeg`입니다.
![img](https://main.qcloudimg.com/raw/3d4682ff8e622425ebd29913810a5c38.jpeg)

그 후, URL 링크에서 다음과 같이 매개변수를 추가합니다.

- 처리 인터페이스 크기 조정: imageMogr2
- 수정된 작업 이름: thumbnail
- 처리 매개변수: !50p

매개변수 추가 후 주소는 `https://examplebucket-1250000000.cos.ap-chengdu.myqcloud.com/sample.jpeg?imageMogr2/thumbnail/!50p`입니다. 이 주소를 주소창에 붙여넣고 Enter 키를 누르면 다음과 같이 축소 및 확대 후의 이미지 효과를 볼 수 있습니다.
![](https://main.qcloudimg.com/raw/f48dba67ddfac797136a552dc6a14816.jpg)

## 이미지 양식 사용

이미지 양식 기능은 각각 다른 처리 작업 매개변수를 템플릿 형식으로 나타내게 해 양식을 통한 이미지에 통합 처리가 가능하게 합니다. 여기에 설정된 양식은 이미지 다운로드 시 실시간 처리 매개변수를 위해 조합된 템플릿입니다. 다음은 **이미지 크기 조정 제한을 너비 480px, 높이 270px로 설정**한 예시입니다. 작업 방법은 다음과 같습니다.


1. [COS 콘솔](https://console.cloud.tencent.com/cos5/bucket)에 로그인합니다.
2. 이미지가 있는 버킷을 찾아서 스토리지 이름을 클릭하여 버킷 관리 페이지로 이동합니다.
3. 왼쪽 사이드바에서 [이미지 처리]를 클릭해 **양식 관리** 페이지로 이동합니다.
   **세퍼레이터**: 양식 구분 기호인 세퍼레이터는 하이픈(-), 언더바(_), 슬래시(/), 느낌표(!) 등이 있으며 파일 이름 및 처리 양식을 기호로 구분합니다. 여기서는 느낌표(!)를 선택한 후 저장하겠습니다.
4. [양식 추가]를 클릭해 **양식 추가** 페이지로 들어가 다음과 같이 정보를 설정합니다.
	-**양식 이름**: 사용자 정의 양식 이름을 입력합니다. 여기서는 예시로 yunstyle을 입력하겠습니다.
> ! 
>- 양식 이름은 대소문자를 구분하며, 저장 후 수정할 수 없습니다.
>- 혼선을 방지하기 위해 처리 양식 이름에 현재 활성화된 간격 표시 부호는 사용할 수 없습니다.
	- **편집 모드**: 기본 편집 선택
  - 압축 방식: 축소 및 확대만 선택
  - 축소 및 확대 선택: 제한 너비와 높이, 축소 및 확대를 선택
  - 압축 사이즈: 너비 480px, 높이 270px.
  - 점진적 표시: 활성화돼 있을 경우, 이미지 액세스 시 점진적 표시 방식으로 보입니다. 여기에서는 저장 기본값을 비활성화로 설정합니다.
  - 출력 포맷: 이미지 출력 포맷을 선택할 수 있습니다. 여기에서는 기본값으로 원본 이미지를 유지합니다.
5. 정보 설정 완료 후 오른쪽 미리 보기 버튼을 클릭해 미리 보기 효과를 조회할 수 있습니다.
6. 미리 보기에 오류가 없음을 확인한 후, [저장]을 클릭하면 yunstyle이라는 이미지 양식이 추가된 것을 볼 수 있습니다.
> ?
> - 동일한 버킷 아래 최대 100개까지 양식을 설정할 수 있습니다.
> - 설정 적용 시간은 평균 30분입니다.
> - 세퍼레이터를 수정하려면 캐시를 퍼지해야 하며, 전체 네트워크로 적용하는데 24시간이 소요됩니다.
> - 사용한 세퍼레이터를 취소하면 제품 기능 이상 경고가 나타날 수 있습니다.
> - 이미지 양식에 대한 자세한 내용은 [양식 설정](https://intl.cloud.tencent.com/document/product/1045/33443)을 참고하십시오.
7. 객체 세부 사항 페이지에 들어가 객체 주소를 복사하고 다음 형식에 따라 객체 주소 뒤에 세퍼레이터 및 양식 이름을 추가합니다.
```
객체 주소 + 세퍼레이터 + 처리 양식 이름
```
마지막으로 얻은 객체 주소는 `https://examplebucket-1250000000.cos.ap-chengdu.myqcloud.com/sample.jpeg!yunstyle`입니다. 이 주소를 주소창에 붙여넣고 Enter 키를 누르면 다음과 같이 크기 조정 후의 이미지 효과를 볼 수 있습니다.
![](https://main.qcloudimg.com/raw/f48dba67ddfac797136a552dc6a14816.jpg)
서명을 전달하기 위해 URL은 `https://examplebucket-1250000000.cos.ap-chengdu.myqcloud.com/sample.jpeg!yunstyle?q-sign-algorithm=<signature>`, 그리고 `/sample.jpg!yunstyle`을 리소스로 사용하여 `<signature>` 서명을 계산합니다.


