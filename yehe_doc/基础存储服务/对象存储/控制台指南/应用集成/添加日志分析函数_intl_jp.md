## 概要

Cloud Object Storage（COS）ログ分析は、さまざまなシナリオに対してログ分析サービスを提供し、ログファイルからの重要情報のより効率的な抽出を支援します。ここでは、COSログ分析関数を追加する方法についてご説明します。関数を作成したら、[ログ分析の設定](https://intl.cloud.tencent.com/document/product/436/45570)をご参照のうえ、COSログ分析機能を使用してください。

## 注意事項

- 以前にCOSコンソールでバケットにCOSログ分析ルールを追加したことがある場合は、[SCFコンソール](https://console.cloud.tencent.com/scf/list?rid=1&ns=default)で、作成したCOSログ分析関数を確認できます。このCOSログ分析関数を削除すると、ルールが有効にならない場合がありますので削除**しないで**ください。
- COSログ分析は、広州、上海、北京、成都、中国香港、シンガポール、ムンバイ、トロント、シリコンバレーなどのSCFがリリースされているすべてのリージョンでサポートされています。その他のサポートされているリージョンについては、[SCF製品ドキュメント](https://www.tencentcloud.com/document/product/583)をご参照ください。
- COSログ分析機能は、SCFサービスに依存しており、ユーザーには[無料利用枠](https://intl.cloud.tencent.com/document/product/583/12282)が提供されていますが、無料利用枠を超える部分については、[SCF製品価格](https://intl.cloud.tencent.com/document/product/583/12281)に従って課金されます。

## 操作手順

1. [COSコンソール](https://console.cloud.tencent.com/cos5)にログインします。
2. 左側ナビゲーションバーで**アプリケーション統合 > 拡張機能**をクリックし、**COSログ分析**を見つけます。
3. **分析機能の設定**をクリックし、COSログ分析の関数ルール設定ページに進みます。
4. ページで関数を追加するリージョンを選択してから**関数の追加**をクリックし、ポップアップウィンドウで以下の情報を設定します。
 - **関数名**：関数名は、関数の一意の識別名として、作成後に変更することはできません。[SCFコンソール](https://console.cloud.tencent.com/scf/list?rid=1&ns=default)でこの関数を確認できます。
 - **関連バケット**：ログ分析機能が設定されたCOSバケットを選択します。
 *実行設定**：現在、非同期実行のみをサポートしています。呼び出し後、非同期実行ステータスになり、実行結果は返しませんが、より長い実行時間をサポートします。
 - **認証方法**：現在、SCFのみをサポートしています。
 - **SCF承認**：COSログ分析では、SCFがバケットから対応するファイルを読み取り、ログ分析の結果ファイルを指定された場所に保存することを承認する必要があります。そのため、このオプションにチェックを入れて、SCFサービス権限承認を完了する必要があります。
5. 設定が正しいことを確認し、**確定**をクリックすると、関数が追加されたことを確認できます。

   新規作成した関数に対しては、次のような操作が可能です。
 - **ログ**をクリックし、COSログ分析関数の履歴を確認します。
 - **詳細**をクリックし、COSログ分析関数の具体的な設定ルールを確認します。
 - **その他 > 編集**をクリックし、COSログ分析関数ルールを変更します。
 - **その他 > 削除**をクリックし、使用しないCOSログ分析関数ルールを削除します。
