## 概要

削除マーカーはバージョン管理されているオブジェクトに用いられます。削除マーカーはCOS内で「オブジェクトがすでに削除されている」ことを示すマーカーとみなすことができます。削除マーカーにはオブジェクトと同様に、オブジェクトキー（Key）とバージョンIDがあります。その違いは次のいくつかの点にあります。

- 削除マーカーは内容が空です。
- 削除マーカーにはACL値が存在しません。
- 削除マーカーがGETリクエストを実行するとエラーコード404が返されます。
- 削除マーカーはDELETE操作のみサポートされます（ルートアカウントによるリクエスト送信が必要）。

## 「削除マーカー」の削除

ユーザーが「削除マーカー」を削除したい場合は、DELETE Object versionIdリクエストでそのバージョンIDを指定することで、「削除マーカー」を完全に削除することができます。削除マーカーのバージョンIDを指定せず、削除マーカーに対しDELETEリクエストを送信した場合、COSはその削除マーカーを削除せず、新たな削除マーカーを挿入します。

下図のように、削除マーカーに対し通常のDELETEリクエストを実行しても、いかなる内容も削除されず、バケット内には新たな削除マーカーが追加されます。
![](https://main.qcloudimg.com/raw/cfce300a0a08889ef385e9140f771ccc.jpg)

バージョン管理を有効にしているバケットでは、新たに追加される削除マーカーは一意のバージョンIDを有しています。このため、1つのバケット内にある同一のオブジェクトが複数の削除マーカーを持つ可能性があります。「削除マーカー」を完全に削除したい場合は、DELETE Object versionIdリクエストに必ずそのバージョンIDを含めなければなりません。

下図のように、DELETE Object versionIdリクエストを実行して「削除マーカー」を完全に削除します。
![](https://main.qcloudimg.com/raw/89e0cb4d6fdbcd089d3f7e0bde6d90ec.jpg)

>「削除マーカー」を削除できるのは、ルートアカウントによる権限承認を受けて`DeleteObject`操作を行った場合のみです。

「削除マーカー」を完全に削除する手順は次のとおりです。

1. versionIdを削除マーカーのバージョンIDに設定します。
2. DELETE Object versionIdリクエストを送信します。
