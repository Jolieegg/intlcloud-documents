## 概要

ディープアーカイブストレージ（Deep Archive）はCloud Object Storage（COS）が提供する、大量のデータの長期的なアーカイブを可能にするストレージサービスです。ディープアーカイブストレージのストレージ単価はテープストレージレベルであり、ユーザーデータの長期保存に適した低コストのソリューションをご提供します。ユーザーはローカルで複雑なテープライブラリ設定のメンテナンスを行う必要がなく、基盤ストレージメディアのアップデートを気にする必要もありません。COSが提供するAPI、SDK、エコシステムツール、コンソールなどの豊富なヒューマンマシンインタラクション手段により、データ管理を便利かつ低コストに行うことができます。

ディープアーカイブストレージは、データへのアクセス頻度が極めて低いものの、長期的に保存する必要があるケースに適しています。ログのコールドバックアップのケースでは、企業は現地の法律法令の要件に従って、毎日発生するログデータに対しコールドバックアップストレージを行い、分析と追跡に役立てる必要があります。ビューデータや自動運転などの業務では、企業には大量の画像、ビデオなどのメディアファイルが蓄積されますが、それらのデータは使用された後も長期的なアーカイブ保存を必要とします。ディープアーカイブストレージを利用することで、企業はこれらのデータをクラウド上に保存し、必要な場合にのみ復元することで、ストレージコストと運用保守管理の難度を低下させることができます。

ディープアーカイブストレージは99.999999999%（イレブンナイン）のデータ耐久性および99.95%の業務設計上の可用性をご提供します。また、COSがご提供するバージョン管理、地域間コピーなどの機能を利用することで、ユーザーのデータセキュリティはさらに保障されます。

## 利用方法

1. コンソールを使用したアップロード
 1. [COSコンソール](https://console.cloud.tencent.com/cos5)にログインします。
 2. **バケットリスト**をクリックし、サポートされているリージョン（北京リージョンなど）のバケットを作成します。
 3. 作成完了後、**ファイルリスト**画面で、**ファイルのアップロード**をクリックします。
 4. ローカルファイルを選択してアップロードし、オブジェクトの属性設定で、ストレージタイプに**ディープアーカイブストレージ**を選択します。詳細については、[オブジェクトのアップロード](https://intl.cloud.tencent.com/document/product/436/13321)をご参照ください。
![](https://main.qcloudimg.com/raw/fd3d5c061007c71dfd382b75a9982fee.png)
2. APIを使用したアップロード
[PUT Object](https://intl.cloud.tencent.com/document/product/436/7749)、[POST Object](https://intl.cloud.tencent.com/document/product/436/14690)または[Initiate Multipart Upload](https://intl.cloud.tencent.com/document/product/436/7746)インターフェースで、`x-cos-storage-class`を`DEEP_ARCHIVE`に設定すると、ディープアーカイブへの直接伝送を実現できます。
>!  Append Objectはディープアーカイブタイプへの直接伝送をサポートしていません。
>
3. SDKを使用したアップロード
現在COSがリリースしているSDKはすべて、ディープアーカイブへの直接伝送をサポートしています。具体的な方法は、ファイルをアップロードする際に`StorageClass`パラメータを`DEEP_ARCHIVE`に設定し、ディープアーカイブへの直接伝送を実現するものです。
4. ツールを使用したアップロード
COSBrowser、COSCMDツールはディープアーカイブへの直接伝送をサポートしています。具体的な方法は、ファイルをアップロードする際に、ヘッダーフィールドに`x-cos-storage-class`を追加し、`DEEP_ARCHIVE`に設定してディープアーカイブへの直接伝送を実現するものです。

## 使用制限

ディープアーカイブストレージには次のような制限があります。ユーザーはご利用中、関連の制限がストレージコストおよびパフォーマンスにもたらす影響にご注意ください。

- **最小ストレージユニットの制限**：最小ストレージユニットは64KBです。64KB未満のオブジェクトは64KBとしてストレージ容量を計算します。
- **最短保存期間の制限**：最短保存期間は180日間です。180日未満の場合は180日として課金されます。

>? 保存日数は論理上の日数（満24時間を1日とする）であり、カウント開始時間はファイルの変更時間を基に計算します。
>

- **取得リクエストのQPS制限**：100回/秒です。
- **リージョンの制限**：現在は北京、南京、上海、広州、成都、重慶、東京、シンガポールリージョンでのみサポートしています。その他のリージョンでも順次サポート予定です。
- **使用制限**：ディープアーカイブストレージは現時点ではマルチAZをサポートしていません。すなわち、マルチAZ設定を有効にしたバケットは、現時点ではディープアーカイブストレージタイプを使用することができなくなります。
- **操作の制限**：追加でアップロードしたオブジェクトをディープアーカイブストレージタイプとすることはできません。
- **取得リクエストの制限**：各オブジェクトは1回につき1つの取得リクエストしか実行できず、複数の取得リクエストが繰り返されるとそれらは統合され、最も速いリカバリモードで処理されます。N+1回目に送信された取得リクエストのリカバリモードがN回目より速い場合は、新しい取得リクエストに従って実行されます。そうでない場合は、N+1回目の取得リクエストは失敗します。
- **データ取得**：ディープアーカイブストレージタイプのファイルは、標準取得モードと一括取得モードをサポートしています。標準モードでの復元時間は12～24時間、一括モードでの復元時間は24～48時間です。

