콘솔을 통해 일괄 프로세스 작업을 관리할 수 있으며, 본 문서에서는 일괄 프로세스 작업과 관련한 관리 작업에 대해 자세히 소개합니다.

## 필터링 작업

[List Jobs](https://intl.cloud.tencent.com/document/product/436/33783) API를 통해 최근 90일 이내에 생성한 일괄 프로세스 작업을 확인할 수 있습니다. 일괄 프로세스 작업 리스트에는 작업 ID, 작업 설명, 작업 우선순위, 작업 상태, 작업 실행 상황 등 모든 일괄 프로세스 작업 정보가 포함되어 있으며, 작업 상태를 통해 일괄 프로세스 작업 리스트에서 동일한 상태의 작업을 필터링할 수 있습니다. 또한 콘솔에서 필터링 작업 시에는 작업 설명 또는 작업 ID를 통해 필터링할 수도 있습니다.

## 작업 상태 조회

작업 관련 더 많은 정보는 [DescribeJob](https://intl.cloud.tencent.com/document/product/436/33782) API를 통해 단일 업무에 대한 모든 정보를 확인할 수 있습니다. 해당 인터페이스는 지정한 작업의 조작 설정, 객체 리스트 정보, 작업 보고서 등의 정보를 반환하며, 이를 통해 지정한 작업에 대한 자세한 정보를 확인할 수 있습니다.

## 작업 할당 우선순위

작업에 우선순위를 설정할 수 있습니다. COS는 설정한 우선순위에 따라 일괄 프로세스 작업을 진행합니다. 우선순위가 높은 작업은 우선 처리되며, 우선순위는 정수값으로 수치를 표시하고 내림차순으로 정렬되어 있습니다. 즉, 숫자가 클수록 우선순위가 높다는 뜻입니다. 작업 실행 중 우선순위를 수정할 수 있으며, 작업 실행 중에 우선순위가 더 높은 작업을 추가하는 경우, 우선순위가 낮은 작업을 일시 정지하고 우선순위가 높은 작업을 먼저 실행합니다.

> !통상적으로 우선순위가 높은 일괄 프로세스 작업을 우선순위가 낮은 작업보다 먼지 실행하지만, 우선순위가 순차 작업의 표준이 되지는 없습니다. 여러 항목의 일괄 프로세스 작업을 순차적으로 실행해야 하는 경우 각 작업의 실행 상태를 모니터링하여 작업 상태를 확인하시기 바랍니다.

## 작업 상태

작업을 생성하면 아래 표의 작업 상태로 전환됩니다. 상태 전환 프로세스는 다음 이미지와 같습니다.
![](https://qcloudimg.tencent-cloud.cn/raw/f1b6e51eadf4930922a1f929351903bb.png)


작업 상태에 대한 자세한 의미는 다음 표와 같습니다.

| 작업 상태   | 설명                                                         | 다음 상태                                                     |
| ---------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| New        | 작업이 막 생성된 경우 New로 표시됩니다.                    | Preparing으로 전환될 수 있으며, COS에서 작업 상의 리스트의 리졸브 작업을 시작했다는 의미입니다.        |
| Preparing  | COS에서 일괄 프로세스 작업에 설정된 리스트와 기타 정보에 대해 리졸브를 시작하면 Preparing 상태가 됩니다. | Ready 상태 또는 Suspended 상태로 전환될 수 있습니다. Ready 상태로 전환되면 일괄 프로세스 작업 설정 정보를 COS에서 리졸브를 완료했다는 의미입니다. 즉, COS가 설정에 따라 리스트의 객체에 대해 지정 작업을 실행할 예정이라는 의미입니다. Suspended 상태로 전환되면 일괄 프로세스 작업 설정 정보를 COS에서 리졸브를 완료했으나, 귀하가 확인을 해야만 실행할 수 있다는 의미입니다. 이 상태는 콘솔에서 일괄 프로세스 작업을 설정하는 경우 나타납니다. |
| Suspended  | 일괄 프로세스 작업이 귀하가 확인을 해야만 실행할 수 있을 경우 Suspended 상태가 됩니다. 이 상태는 콘솔에서 작업 생성 시 발생합니다. 귀하가 확인하고 COS에서 작업을 실행하면 다음 상태로 전환됩니다. | 귀하가 작업 실행을 확인하면 Ready 상태로 전환됩니다.                 |
| Ready      | COS에서 일괄 프로세스 작업의 객체 리스트와 작업 설정 정보에 대해 리졸브를 완료하고 곧 일괄 프로세스 작업을 실행할 때 Ready 상태가 됩니다. | Active 상태로 전환될 수 있으며, 이 때 COS에서 작업을 시작합니다. 우선순위가 더 높은 작업이 현재 실행 중인 경우 COS는 높은 우선순위 작업 상태가 Complete이 될 때까지 작업 상태를 Ready로 유지합니다.  |
| Active     | COS 일괄 프로세스 작업에 설정한 정보에 따라 리스트 상의 객체를 작업 중인 경우 Active 상태가 됩니다. 콘솔 또는 [DescribeJob](https://intl.cloud.tencent.com/document/product/436/33782) API 호출 등의 방법을 통해 진행 상태를 확인할 수 있습니다. | Complete, Failing, Pausing 또는 Cancelling 등의 상태로 전환될 수 있습니다. 작업이 성공적으로 종료되거나 실패할 경우, 또는 귀하의 중지 명령(예: 작업 취소) 등 구체적인 원인에 따라 상태가 전환됩니다. |
| Pausing    | COS에서 현재 처리하고 있는 일괄 프로세스 작업을 중단하고 있는 상태로, Paused로 진행되는 상태가 Pausing 상태입니다. | Paused 상태로 전환됩니다. COS에서 실행 중인 일괄 프로세스 작업을 모두 중지한 경우 Paused 상태로 전환됩니다. |
| Paused     | 더 높은 우선순위의 일괄 프로세스 작업을 생성할 경우, 현재 실행 중인 일괄 프로세스 작업이 Paused 상태로 전환됩니다. | 우선순위가 높은 작업이 완료, 실패 또는 확인 대기 상태가 되면 Paused 상태인 작업이 자동으로 Active 상태로 전환됩니다. |
| Complete   | 일괄 프로세스 작업의 모든 리스트 내 객체의 일괄 작업을 완료하였거나 실패하는 경우 Complete 상태로 전환됩니다.<br>작업 보고서 생성을 설정한 경우 COS에서 작업 상태를 Complete으로 전환 시 지정한 버킷에 작업 보고서를 전달합니다. | Complete 상태는 마지막 상태로, Complete 상태로 전환되면 다시 다른 상태로 전환되지 않습니다. |
| Cancelling | COS가 현재 처리하고 있는 일괄 프로세스 작업을 취소하는 중으로, Cancelled로 진행되는 상태가 Cancelling 상태입니다. | Cancelled 상태로 전환됩니다. COS에서 실행 중인 일괄 프로세스 작업을 모두 취소한 경우 Cancelled 상태로 전환됩니다. |
| Cancelled  |일괄 프로세스 작업의 취소 처리가 완료되면 Cancelled 상태로 전환됩니다. 이 때에는 작업 상태를 수정할 수 없습니다. | Cancelled 상태는 마지막 상태로, Cancelled 상태로 전환되면 다시 다른 상태로 전환되지 않습니다. |
| Failing    | COS에서 Failed로 진행되는 상태가 Failing 상태입니다.                  | Failed 상태로 전환됩니다.                                        |
| Failed     | 작업 실패 시 Failed 상태가 됩니다. 작업 실패에 대한 자세한 정보는 [실패 작업 추적](https://intl.cloud.tencent.com/document/product/436/32961#tracking-a-failing-job)을 참조하십시오. | Failed 상태는 마지막 상태로, Failed 상태로 전환되면 다시 다른 상태로 전환되지 않습니다. |



## 실패 작업 추적

일괄 프로세스 작업 중 객체 리스트를 리졸브할 수 없는 등의 문제가 발생할 경우 일괄 프로세스 작업이 실패되고, COS에서 해당 에러 코드 및 오류 원인을 반환합니다. COS는 작업 실패 원인을 저장하며, [DescribeJob](https://intl.cloud.tencent.com/document/product/436/33782) API를 통해 작업 실패에 대한 자세한 정보를 확인할 수 있습니다. 또한 작업 보고서를 통해서도 관련 작업의 실패 사유 및 기타 관련 정보를 확인할 수 있습니다.

COS는 모든 일괄 프로세스 작업에 대해 작업 실패 임계값을 제공하여 생성한 작업에 대량의 실패 작업이 발생하지 않도록 방지합니다. 작업에 1000개 이상의 작업이 존재하는 경우 COS는 작업 실패율을 모니터링합니다. 언제든 작업 실패율(현재 진행 중인 작업 중 실패 작업에서 이미 진행된 모든 작업 수를 뺀 수)이 임계값인 50%를 초과하는 경우, COS는 작업을 중지하고 실패 상태를 반환합니다. 작업 실패율이 임계값을 초과한 이유를 필터링하여 확인할 수 있으며, 객체 리스트에 존재하지 않는 객체 정보가 대량으로 포함되어 있는 경우 오류 수정 후 다시 작업을 생성합니다.

> !COS 일괄 프로세스 작업은 비동기화 방식으로 실행되며, 객체 작업이 반드시 리스트 상의 객체 순서로 실행되지 않습니다. 따라서 객체 리스트 상의 객체 순서에 따라 어떤 객체까지 작업되었다고 판단할 수 없으며, 이에 따라 작업의 성공 또는 실패 상황을 판단합니다. 작업 보고서에서 작업의 성공 또는 실패 정보를 확인할 수 있습니다.


## 작업 보고서

작업 생성 시 작업 보고서 출력 여부를 설정할 수 있습니다. 작업 보고서 출력을 설정한 경우, COS는 작업 성공, 실패 또는 취소 시 보고서를 출력하며, 해당 보고서로 작업과 관련된 모든 성공 또는 실패 작업 상황을 확인할 수 있습니다.

작업 보고서에는 작업의 지정 작업에 대한 설정 매개변수, 실행 상태 등의 정보가 포함되어 있으며, 이외에도 처리된 객체의 객체 이름, 버전 ID, 작업 상태 코드, 오류 설명 등의 내용이 포함되어 있습니다.
