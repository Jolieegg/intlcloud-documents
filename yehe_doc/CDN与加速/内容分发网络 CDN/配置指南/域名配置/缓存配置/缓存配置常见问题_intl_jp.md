[](id:q1)
### キャッシュ有効期限の設定とは何ですか。
キャッシュ有効期限の設定とは、CDNキャッシュノードがユーザーのビジネスコンテンツをキャッシュするために従うべき一連の有効期限ポリシーを指します。
CDNノードにキャッシュされたユーザーリソースは、いずれも「有効期限切れ」の問題に直面しています。リソースの有効期限が切れていない場合は、ユーザーリクエストがノードに到達すると、ノードはリクエストされたリソースをユーザーに直接返し、取得速度を向上させます。リソースの有効期限が切れている場合は、（即ち、設定された有効時間を超えた場合）、ノードはユーザーリクエストをオリジンサーバーに転送します。オリジンサーバーのコンテンツが更新されている場合、コンテンツを再取得してノードにキャッシュしてから、ユーザーに返します。オリジンサーバーのコンテンツが更新されない場合、リソースのキャッシュ時間のみが更新されます。適切なキャッシュ有効期限を設定することで、リソースヒット率を効果的に向上させ、back-to-origin率を低下させ、帯域幅の使用量を削減できます。


[](id:q2)
### ファイルがブラウザキャッシュに保持される期間をどのように制御しますか。
コンソールでブラウザのキャッシュ有効期限を設定できます。詳細については、[ブラウザのキャッシュ有効期限](https://intl.cloud.tencent.com/document/product/228/38932)をご覧ください。

[](id:q3)
### CDNオリジンサーバ（自分のサーバを使用）が特定のファイルをキャッシュしないようにするには、どうしたらよいですか。キャッシュの有効期限が0秒に設定されている場合、キャッシュしないという意味ですか。
ユーザーは、ディレクトリとファイルのタイプに応じて対応するキャッシュの有効期限を設定することができます。キャッシュ有効期限が0に設定されている場合、CDNノードが該当リソースをキャッシュしません。その場合、ユーザーがCDNノードにアクセスリクエストを送信するたびに、CDNノードはオリジンサーバーから関連リソースを取り出す必要があります。キャッシュ設定の詳細については、[ノードキャッシュの設定](https://intl.cloud.tencent.com/document/product/228/35317)をご参照ください。

[](id:q4)
### Tencent Cloudはどのようなキャッシュ有効期限の設定をサポートしていますか。
Tencent Cloud CDNサービスは、さまざまなファイルタイプのキャッシュアクションとキャッシュ有効期限ルールの設定をサポートしています。また、カスタムキャッシュルールの優先度を調整することもできます。適切なキャッシュ有効期限ルールを設定することで、リソースヒット率を効果的に向上させ、back-to-origin率を低下させ、帯域幅の使用量を削減できます。リンクをクリックして、 [キャッシュ設定](https://intl.cloud.tencent.com/document/product/228/35316)についてさらに詳しい解説をご覧ください

[](id:q5)
### CDNのデフォルトのキャッシュ設定は何ですか。
アクセラレーションドメイン名を追加すると、さまざまなアクセラレーションサービスタイプに基づいて、CDNはデフォルトのノードキャッシュ有効期限ルールを追加します。必要に応じて変更できます。
- 静的アクセラレーションが選択されている場合、通常の動的ファイル（php、jsp、asp、aspxなど）はデフォルトでキャッシュされず、他のすべてのファイルはデフォルトでオリジンサーバーに従います。
- ダウンロードアクセラレーションまたはストリーミングVODアクセラレーションが選択されている場合、デフォルトでは、すべてのファイルのキャッシュ有効期限は30日です。


[](id:q6)
### キャッシュの一致ルールとは何ですか。
複数のキャッシュポリシーが設定されている場合、ルールリストの一番下にあるルールの優先順位が最も高くなります。ドメイン名が次のように設定されているとします：
```
All files - 30 days
.php .jsp .aspx - 0 seconds
.jpg .png .gif - 300 seconds
/test/*.jpg - 400 seconds
/test/abc.jpg - 200 seconds
```

ドメイン名が `www.test.com`で、リソースが`www.test.com/test/abc.jpg`の場合、その一致ルールは次のようになります。
1.1番目のルールと一致し、ヒットしました。この場合のキャッシュの有効期限は30日です。
2.2番目のルールと一致し、ヒットしませんでした。
3.3番目のルールと一致し、ヒットしました。この場合のキャッシュの有効期限は300秒です。
4.4番目のルールと一致し、ヒットしました。この場合のキャッシュの有効期限は400秒です。
5.5番目のルールと一致し、ヒットしました。この場合のキャッシュの有効期限は200秒です。

そのため、最終のキャッシュ有効期限が200秒となります。
