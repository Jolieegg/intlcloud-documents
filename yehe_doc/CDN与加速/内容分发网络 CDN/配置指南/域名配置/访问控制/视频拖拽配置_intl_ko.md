## 설정 시나리오

- 비디오 드래그는 주로 비디오 VOD 시나리오에서 발생하며, 사용자가 재생 진행률을 드래그 할 때, 서비스 측에 다음과 같이 요청합니다.
`http://www.test.com/test.flv?start=10`
  이때 10바이트부터 시작하는 데이터가 리턴되고 주문형 비디오 파일이 각 CDN 노드에 캐시되므로 이 구성을 사용할 수 있으며, 각 노드는 이러한 요청에 직접 응답 할 수 있습니다.
- 비디오 드래그 활성화 시 무시 매개변수 설정을 함께 활성화해야 합니다. 즉, [캐시 키 규칙](https://intl.cloud.tencent.com/document/product/228/35316)에 있는 모든 규칙들의 무시 매개변수 설정이 ‘모두 무시’로 설정되어야 하며, 원본 서버가 range 요청을 지원해야 합니다. 지원 가능한 파일 포맷은 mp4, flv, ts입니다.

| 파일 유형 | meta 정보                                                    | start 파라미터 설명                                               | 요청 예시                                                     |                                                  |
| :------- | :----------------------------------------------------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| MP4      | 오리진 서버 비디오의 meta 정보는 파일 위에 있어야 하며, 끝에 있는 meta 정보 비디오는 지원되지 않습니다. start 파라미터는 초 단위의 시간을 나타내며, 밀리 초를 나타내는 10진수(예 : start = 1.01, 시작 시각이 1.01s임을 나타냄)를 지원하며 CDN은 start가 표시된 시간의 이전 키 프레임을 찾습니다.(현재 start가 키 프레임이 아닌 경우) | 'http://www.test.com/demo.mp4?start=10'은 10초부터 재생하는 것을 의미합니다. |
| FLV | 오리진 서버 비디오에는 meta 정보가 있어야 합니다. | start 파라미터는 바이트를 나타내며, CDN은 start 파라미터가 나타내는 바이트의 이전 키 프레임을 자동으로 찾습니다.(start가 현재 키 프레임이 아닌 경우) | 'http://www.test.com/demo.flv?start=10'은 10바이트부터 재생하는 것을 의미합니다. |
| TS       | 특별한 요구 조건 없음                                                   | start 매개변수는 바이트를 나타냅니다. CDN은 start 매개변수로 표시되는 바이트를 자동으로 지정합니다. | `http://www.test.com/demo.ts?start=10`은 열 번째 바이트부터 재생을 시작한다는 의미  |


## 설정 조회
[CDN 콘솔](https://console.cloud.tencent.com/cdn)에 로그인하여 왼쪽 사이드바에서 [도메인 관리]를 선택한 후, 서비스 유형을 스트림 미디어 VOD 가속 도메인으로 설정하고 도메인 설정 페이지로 이동하면, [액세스 제어] Tab에서 [비디오 드래그]를 확인할 수 있으며, 비활성화 상태로 기본 설정되어 있습니다.
![img](https://main.qcloudimg.com/raw/515a46c56b93b9932f5bbcab39a8293e.png)
