예약 퍼지와 프리패치는 Tencent Cloud SCF를 통해 정해진 시간에 트리거할 퍼지/프리패치 작업을 설정합니다. 예약 퍼지와 프리패치 작업은 일일 퍼지/프리패치 할당량에 포함되며, 실행한 당일에 할당량을 초과하는 경우 작업이 실패할 수 있습니다.

## 구성 설명

[CDN 콘솔](https://console.cloud.tencent.com/cdn)에 로그인하고 메뉴바에서 [플러그 인 센터]를 선택합니다. 예약 퍼지와 프리패치 플러그 인 기능 카드를 선택해, 예약 퍼지와 프리패치를 활성화하면 작업 설정 페이지로 이동합니다. 첫 활성화 이후, 카드 하단의 [기본 설정]을 클릭해 예약 퍼지와 프리패치 작업 리스트 페이지로 이동하면 설정을 진행할 수 있습니다.
![]()

예약된 작업 생성 인터페이스에서 작업 유형 선택, Cron 예약 표현식 설정(아래 내용 참조), 퍼지/프리패치 URL을 입력하고 SCF 권한 부여를 진행합니다. 시스템은 자동으로 해당하는 SCF를 생성하고, 시간에 맞춰 해당하는 작업을 트리거합니다.
![]()

>!SCF 콘솔에서 SCF를 삭제하지 마십시오!


작업 상태 페이지에서 예약된 작업의 최근 실행 상황을 조회할 수 있습니다.
![]()

## Cron 표현식

Cron 표현식은 총 7자리 값을 포함하고, 모든 자리 사이는 반드시 빈칸으로 분리해야 합니다.

<table>
<thead>
<tr>
<th style="width:100px">자릿수</th>
<th>필드</th>
<th>값 범위</th>
<th>와일드카드</th>
</tr>
</thead>
<tbody><tr>
<td>첫 번째 자리</td>
<td>초</td>
<td>0 - 59까지의 정수</td>
<td>,  - * /</td>
</tr>
<tr>
<td>두 번째 자리</td>
<td>분</td>
<td>0 - 59까지의 정수</td>
<td>,  - * /</td>
</tr>
<tr>
<td>세 번째 자리</td>
<td>시간</td>
<td>0 - 23까지의 정수</td>
<td>,  - * /</td>
</tr>
<tr>
<td>네 번째 자리</td>
<td>일</td>
<td>1 - 31까지의 정수(해당 월의 일수 고려 필요)</td>
<td>,  - * /</td>
</tr>
<tr>
<td>다섯 번째 자리</td>
<td>월</td>
<td>1 - 12까지의 정수 또는 JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC</td>
<td>,  - * /</td>
</tr>
<tr>
<td>여섯 번째 자리</td>
<td>요일</td>
<td>0 - 6까지의 정수 또는 SUN, MON, TUE, WED, THU, FRI, SAT. 0은 일요일, 1은 월요일(이후 순서대로 대응됨)</td>
<td>,  - * /</td>
</tr>
<tr>
<td>일곱 번째 자리</td>
<td>년</td>
<td>1970 - 2099까지의 정수</td>
<td>,  - * /</td>
</tr>
</tbody></table>

와일드카드의 의미는 다음과 같습니다.

<table>
<thead>
<tr>
<th align="left" style="width:120px">와일드카드</th>
<th align="left">의미</th>
</tr>
</thead>
<tbody><tr>
<td align="left">,(쉼표)</td>
<td align="left">쉼표로 구분된 필드의 합집합을 의미. 예: '시간' 필드에서 1, 2, 3은 1시, 2시, 3시를 의미</td>
</tr>
<tr>
<td align="left">-(대시)</td>
<td align="left">지정 범위의 모든 값을 포함. 예: '일' 필드에서 1 - 15는 지정한 달의 1일에서 15일까지 포함</td>
</tr>
<tr>
<td align="left">*(별표)</td>
<td align="left">모든 값을 의미. '시간' 필드에서 *는 매 시간을 의미</td>
</tr>
<tr>
<td align="left">/ (슬래시)</td>
<td align="left">증분 지정. '분' 필드에 1/10을 입력해 1분부터 10분마다 반복되도록 지정합니다. 예: 11분, 21분, 31분 등</td>
</tr>
</tbody></table>


>!Cron 표현식의 '일'과 '요일' 필드에 값을 동시에 지정하면, 두 필드의 관계는 '또는'으로 이루어집니다. 즉, 두 필드의 조건이 따로 적용됩니다.


### 예시

**일회성 작업**

- `33 22 11 6 7 * 2021`은 2021-7-6 11:22:33에 작업을 트리거하는 것을 의미
- `00 00 20 25 10 * 2021`은 2021-10-25 20:00:00에 작업을 트리거하는 것을 의미

**주기적 작업**

- `*/5 * * * * * *`는 작업을 5초마다 1회 트리거하는 것을 의미
- `0 0 2 1 * * *`은 매월 1일 새벽 2시에 작업을 트리거하는 것을 의미
- `0 15 10 * * MON-FRI *`는 월요일부터 금요일까지 매일 오전 10:15에 작업을 트리거하는 것을 의미
- `0 0 10,14,16 * * * *`는 매일 오전 10시, 오후 2시, 4시에 작업을 트리거하는 것을 의미
- `0 */30 9-17 * * * *`는 매일 오전 9시부터 오후 5시까지 30분마다 작업을 트리거하는 것을 의미
- `0 0 12 * * WED *`는 매주 수요일 정오에 작업을 트리거하는 것을 의미

## 요금 설명

예약된 퍼지와 프리패치 기능은 무료지만, SCF를 호출하여 예약된 작업을 생성하므로 SCF 비용이 발생합니다. 자세한 내용은 [SCF Billing Overview](https://intl.cloud.tencent.com/document/product/583/17299)를 참고하십시오.
