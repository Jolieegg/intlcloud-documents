


<blockquote class="d-mod-alarm">
<div class="d-mod-title d-alarm-title">
<i class="d-icon-alarm"></i>공지: 
</div>
<p>이 기능의 A/B테스트를 배포하고 있습니다. 귀하의 계정에서 이 기능을 활성화할 도메인에 이 기능 항목이 표시되지 않으면 전체 배포가 완료될 때까지 기다려 주십시오.</p>
</blockquote>


## 기능 설명

Tencent Cloud CDN은 단일 도메인에 대한 버전 관리를 지원합니다. 하나의 버전은 하나의 도메인 설정에 해당하며, 사용자는 도메인에 대해 서로 다른 버전을 배포할 수 있습니다. 프로덕션 환경 및 시뮬레이션 환경, 두 가지 배포 환경을 지원합니다.

- 프로덕션 환경: 현재의 네트워크 환경으로, 가속 서비스가 실제로 적용되는 환경입니다.
- 시뮬레이션 환경: 샌드박스로, 도메인 기능 테스트만 할 수 있는 독립적인 환경입니다. 시뮬레이션 환경은 규모가 작아 콘솔 도메인 설정 테스트만 지원하고 실제 비즈니스 또는 성능 테스트는 처리할 수 없습니다.

>!
>1. 버전 관리는 자체 인증서가 미설정되고 이미지 최적화 기능이 비활성화된 도메인에 활성화할 수 있습니다.
>2. 각 환경에서 한 번에 하나의 버전만 배포할 수 있도록 지원합니다.
>3. URL 퍼지 기능은 프로덕션 환경과 시뮬레이션 환경에 동시 적용됩니다. 디렉터리 퍼지 및 URL 프리패치 기능은 프로덕션 환경에만 적용됩니다. 퍼지와 프리패치 기능 소개는 [퍼지와 프리패치](https://intl.cloud.tencent.com/document/product/228/33982)를 참고하십시오.
>4. [사용량 상한](https://intl.cloud.tencent.com/document/product/228/7541) 등 데이터/사용량 모니터링 기능은 프로덕션 환경에만 적용됩니다.


## 시나리오

- 도메인 설정 A/B테스트



[](id:open)
## 버전 관리 활성화

[CDN 콘솔](https://console.cloud.tencent.com/cdn)에 로그인 후, 메뉴바에서 [도메인 관리]를 선택하여 도메인 리스트로 이동합니다. 버전 관리를 활성화할 도메인을 클릭하여 도메인 설정 페이지로 이동하면 오른쪽 상단에서 [버전 관리 활성화]를 확인할 수 있습니다.
![](https://main.qcloudimg.com/raw/52d05f1d49c1143e572d5bd2ff7cb88c.png)

활성화를 확인하면 현재 도메인의 설정은 첫 번째 버전인 Ver.1로 자동 생성되고, 프로덕션 환경 및 시뮬레이션 환경에 동시 배포됩니다.

## 버전 관리

버전 관리 활성화 후 [버전 관리 페이지]로 이동하여 버전을 조회하고 관리할 수 있습니다. 버전별로 버전 넘버 **Ver.n (n=1,2,3,...)**를 구분합니다.
도메인 리스트 페이지 > 도메인 작업 열 > [더 보기] > [버전 관리] 또는 도메인 클릭 후 도메인 설정 페이지 오른쪽 상단의 [버전 관리]를 통해 [버전 관리 페이지]로 이동할 수 있습니다.
![](https://main.qcloudimg.com/raw/6d74d6b53b75ef97a63926718f50cda4.png)



### 버전 추가
[버전 추가] 클릭: 버전 추가 시 버전 설정은 기본적으로 현재 프로덕션 환경의 버전 설정이며, 이를 바탕으로 조정 및 제출하여 최신 버전을 생성할 수 있습니다.
![](https://main.qcloudimg.com/raw/7d6277fad76dd1391f9be965c4c99df0.png)

>! 최신 버전 제출 후 설정 항목 오류 보고 메시지가 뜨더라도(일부 설정 항목이 제대로 제출되지 않은 것일 수 있음) 해당 버전은 문제 없이 생성되므로(오류가 보고되는 설정 항목은 기본적으로 원본 콘텐츠), 다시 생성할 필요가 없습니다. 버전 관리 페이지로 돌아가 해당 버전을 편집하고 설정을 변경할 수 있습니다.

### 버전 편집

버전 리스트에 있는 최신 버전이 시뮬레이션 환경에 배포되지 않은 경우, 편집이 가능합니다. 버전 작업 열의 [더 보기] > [편집]을 클릭합니다.
![](https://main.qcloudimg.com/raw/ccd2e75a24c5076c0a624b5cd8cbbecb.png)
과거 버전(최신 버전 이전의 모든 버전)은 시뮬레이션 환경의 배포 여부와 관계없이 편집할 수 없으며 조회만 지원합니다.

>!버전을 추가하기 전 배포되지 않은 버전이 있는지 확인하십시오. 버전 추가 후 해당 버전은 자동으로 과거 버전으로 바뀌기 때문에 편집이 불가능하며 시뮬레이션 환경에 배포할 수 없습니다.


### 버전 배포

버전 관리가 활성화된 도메인은 다음의 버전 배포 방법을 사용하십시오.

1. 시뮬레이션 환경에서 런칭하여 테스트 또는 배포할 버전: 버전 작업 열의 [더 보기] > [시뮬레이션 환경에 배포하기]를 클릭합니다.
![](https://main.qcloudimg.com/raw/13b8f5a168719c31c2c1b03b532933a9.png)
2. 시뮬레이션 환경에 배포된 버전 테스트: CDN에서 도메인에 IPv4의 IP를 할당합니다. 클라이언트 HOSTS를 수정하고 도메인을 해당 IP로 지정하면 테스트할 수 있습니다.
3. 설정을 변경하고 다시 테스트하려면 버전 추가 및 제출을 통해 최신 버전을 생성하고 1~2단계를 반복해야 합니다.
4. 테스트 통과 후, 프로덕션 환경에 버전을 동기화하고 현재의 네트워크 전송을 설정하여 전체 네트워크에 적용: 시뮬레이션 환경 카드의 버전 넘버 옆에 있는 [프로덕션 환경에 동기화]를 클릭합니다.
![](https://main.qcloudimg.com/raw/89b2d937dcba03f68c62a2aad60b9f6f.png)
5. 프로덕션 환경에서 버전을 변경할 경우 1~4단계를 반복하십시오.

>!
>- 버전 리스트의 최신 버전(버전 넘버가 가장 큰 버전)만 시뮬레이션 환경에 배포할 수 있으며, 과거 버전은 조회만 지원합니다.
>- 백그라운드 특수 설정 또는 플랫폼 업그레이드 최적화는 프로덕션 환경에 직접 전송되어 현재 네트워크에 적용됩니다.
>- 도메인이 현재 수동으로 설정되어 있거나 플랫폼 업그레이드에 최적화된 경우, 테스트 환경에서 프로덕션 환경으로 버전이 동기화될 때 충돌이 발생할 수 있습니다. 콘솔에서 도메인에 백그라운드 특수한 설정이 되어 있다는 오류를 보고할 수 있으므로, 신규 버전을 생성하여 다시 배포하시기 바랍니다.
>- 시뮬레이션 환경의 IP는 기본적으로 자주 변경되지 않습니다. 정확성 확보를 위해 매번 테스트 전 IP 뒤에 있는 새로고침 버튼을 클릭하여 최신 IP를 가져오는 것을 권장합니다.



### 버전 조회

해당 버전 작업 열의 [조회]를 클릭하면 해당 버전의 설정 내용을 조회할 수 있습니다.


### 버전 완전 삭제/런칭
프로덕션 환경에서 [완전 삭제]를 클릭하면 프로덕션 환경과 시뮬레이션 환경에 있는 버전을 동시에 완전 삭제합니다. 즉, 도메인을 완전 삭제하고 가속 서비스를 비활성화합니다.

완전 삭제 후 도메인을 다시 런칭할 수 있습니다. 프로덕션 환경의 동일한 위치에 있는 [런칭]을 클릭하면 프로덕션 환경 및 시뮬레이션 환경에서 나타난 버전이 동시에 런칭됩니다.

## 버전 관리 비활성화

정상 작동 중 버전 관리가 활성화된 도메인에 대해서도 버전 관리를 비활성화할 수 있습니다. 비활성화 후에는 현재 네트워크의 설정이 기본 모드로 복구되며, 현재 프로덕션 환경에 런칭된 버전을 네트워크 설정으로 합니다. 기타 저장된 버전은 모두 삭제되며 복구할 수 없습니다.

필요할 경우 [버전 관리 활성화](#open)를 다시 할 수 있습니다.


## 주의 사항

버전 관리가 활성화된 도메인:
- [설정 복사](https://intl.cloud.tencent.com/document/product/228/38936)와 [일괄 설정 변경](https://intl.cloud.tencent.com/document/product/228/39911) 등 일괄 설정 기능을 지원하지 않습니다.
- 콘솔 왼쪽 메뉴의 인증서 관리 페이지에 있는 인증서 단독 설정은 지원하지 않습니다.
- 가속 서비스 활성화/비활성화 시 프로덕션 환경 및 시뮬레이션 환경의 버전 완전 삭제/런칭을 동시에 실행합니다.
- 도메인의 태그 및 프로젝트를 편집할 수 있습니다.
- 도메인의 가속 리전 및 비즈니스 유형을 변경할 수 없습니다. 변경이 필요한 경우 먼저 도메인의 버전 관리를 비활성화하십시오. 
