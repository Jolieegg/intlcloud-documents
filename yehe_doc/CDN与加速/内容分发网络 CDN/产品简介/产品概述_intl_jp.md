## Content Delivery Networkとは。

Content Delivery Network（CDN）は、既存のインターネット上に新しく追加されたネットワークアーキテクチャであり、世界中に分散された高性能キャッシュノードで構成されています。これらの高性能なサービスノードは、特定のキャッシュポリシーに基づいてユーザーのサービス内容を保存します。ユーザーが指定のサービス内容へリクエストを送信するとき、リクエストはユーザーに最も近いサービスノードにスケジューリングされ、直接にサービスノードによって迅速に応答されます。これにより、アクセスの遅延が減少し、可用性が向上します。


CDNは、次のネットワーク問題に対する効果的なソリューションを提供します。
1. ユーザーとビジネスサーバー間の物理的な距離が長く、リクエストを複数回転送する必要があるため、転送遅延が大きくて安定しません。
2. ユーザーが使用するキャリアがビジネスサーバーが使用するキャリアとは異なるため、相互接続した後、キャリア間でリクエストを転送する必要があります。
3. ビジネスサーバーでは、ネットワーク帯域幅と処理能力が限られているため、大量のユーザーリクエストを受信したとき、応答速度が遅くなり、可用性が低下します。

CDNへのアクセスは簡単です。ビジネス構造を調整したり、複雑な設定操作を実行したりすることなく、グローバルCDNアクセラレーションサービスを利用できます。 詳細については、[クイックスタート](https://intl.cloud.tencent.com/document/product/228/32978)をご参照ください。

## アクセラレーション原理
ご利用のビジネスオリジンサーバーのドメイン名が`www.test.com`であるとします。ドメイン名はCDNサービスにアクセスしてアクセラレーションサービスの利用を開始した後、ユーザーがHTTPリクエストを送信した場合、実際の処理フローは下図のように示します。
![](https://main.qcloudimg.com/raw/c155f8268c6ebdcc84f50cfb06f1f638.png)

**プロセスの詳細は以下のとおりです。**
1. ユーザーが`www.test.com`下の画像リソース（例：1.jpg）へのアクセス要求を送信する場合、先にLocal DNSへドメイン名解決要求を送信します。
2. ローカルDNSが`www.test.com`を解決すると、CNAME `www.test.com.cdn.dnsv1.com`がすでに設定されていることが判明した場合、解決要求は、Tencent DNS（GSLB）に送信されます。GSLBはTencent Cloudが独自に開発したスケジューリングシステムであり、リクエストに最適なノードIPを割り当てます。
3. ローカルDNS は、Tencent DNSから返された解析済みのIPを取得します。
4. ユーザーは解析されたIPを取得します。
5. ユーザーは、取得したIPにリソース1.jpgへのアクセス要求を送信します。
6. IPに対応するCDNノードがすでに1.jpgをキャッシュしている場合、データがユーザー（10）に直接返され、リクエストは終了します。ノードが1.jpgをキャッシュしていない場合、ノードはビジネスオリジンサーバーに1.jpgへのリクエスト（6、7、8）を送信します。リソースを取得した後、CDNノードは設定されたキャッシュポリシー（製品ドキュメントの [キャッシュの有効期限の設定](https://intl.cloud.tencent.com/document/product/228/35317)を参照）に従って、リソースをノード（9）にキャッシュするとともに、ユーザー（10）に返して、リクエストは終了します。
