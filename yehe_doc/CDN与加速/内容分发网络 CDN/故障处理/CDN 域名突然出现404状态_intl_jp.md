##故障について

 CDNドメイン名に突然、404エラーが発生しました。



## 考えられる原因

1. オリジンサーバーの異常。
2. コンソールのオリジンサーバー情報とback-to-origin HOSTの設定に変更があった。



## ソリューション

1. オリジンサーバーに異常がないかどうか確認します。
2. コンソールのオリジンサーバー情報とback-to-origin HOST設定をチェックして、関連設定に異常がないことを確認します。



## 処理手順

[](id:step1)

1. オリジンサーバーに異常があるかどうかチェックします。

   - YESの場合は、オリジンサーバーを修復します。
   - NOの場合は、[手順2](#step2)を実行してください。
     [](id:step2)

2. コンソールのオリジンサーバー情報とback-to-origin HOSTの設定をチェックします。
   [CDNコンソール](https://console.cloud.tencent.com/cdn)にログインし、**ドメイン名管理**を選択して対応するドメイン名設定を見つけ、**基本設定**>**オリジンサーバー情報**の「オリジンサーバーアドレス」、「back-to-origin HOST」を表示して、ここの設定が正しいことを確認します。

   - オリジンサーバータイプ：

   <table>
   <thead>
   <tr>
   <td><strong>ユーザー保有オリジンサーバー</strong></td>
   <td>ユーザー保有オリジンサーバーを選択する場合は、正常にアクセスできるビジネスサーバーのIPアドレスまたはドメイン名を提供する必要があります</ td>
   </tr>
   </thead>
   <tbody><tr>
   <td><strong>COSオリジンサーバー</strong></td>
   <td>Tencent Cloud COSのうち1つのバケットをオリジンサーバーとして選択する場合は、バケットの設定に応じてデフォルトのドメイン名または静的ウェブサイトのシナリオを選択します。バケットがプライベートバケットの場合は、CDNを承認してback-to-origin認証を有効にし、プライベートバケットアクセスを有効にしてください</td>
   </tr>
   <tr>
   <td><strong>サードパーティCOS</strong></td>
   <td>サードパーティCOSを選択する場合は、オリジンサーバーとして有効なバケットアクセスアドレスを入力してください。現在サポートされているサードパーティは、AWSS3とAlibaba Cloud OSSです。サードパーティのプライベートバケットにback-to-originするには、有効なキーを入力し、back-to-origin認証を有効にして、プライベートバケットアクセスを有効にする必要があります</td>
   </tr>
   </tbody></table>

   - back-to-origin HOST：
     back-to-originドメイン名です。CDNノードがback-to-originのときは、アクセスしたオリジンサーバーのIPアドレスの下にある具体的なサイトドメイン名です。デフォルトは、現在のアクセラレーションドメイン名です。汎用ドメイン名にアクセスする場合、デフォルトは汎用ドメイン名であり、実際のback-to-origin HOSTはアクセスドメイン名です。 実際の業務状況に応じて変更できます（**注：**オリジンサーバータイプがCOSオリジンサーバーやサードパーティCOSの場合、変更できません）。

オリジンサーバー設定の詳細については、[オリジンサーバー設定](https://intl.cloud.tencent.com/document/product/228/6289)をご参照ください。
