## 현상 설명

 CDN 도메인 액세스 시 갑자기 404 상태 코드가 출력됨.



## 예상 원인

1. 원본 서버 예외 발생.
2. 콘솔 원본 서버 정보 및 호스트 헤더 구성에 변동 사항 발생.



## 해결 방법

1. 원본 서버를 점검하여 원본 서버에 이상이 없는지 확인합니다.
2. 콘솔의 원본 서버 정보 및 호스트 헤더 구성을 확인하여, 관련 설정에 이상이 없는지 확인합니다.



## 해결 단계

[](id:step1)

1. 원본 서버의 예외 발생 여부를 확인합니다.

   - 예외 발생한 경우, 원본 서버를 복구합니다.
   - 아닌 경우, [2단계](#step2)를 실행합니다.
     [](id:step2)

2. 콘솔의 원본 서버 정보와 호스트 헤더 구성을 확인합니다.
   [CDN 콘솔](https://console.cloud.tencent.com/cdn)에 로그인하여 **도메인 관리**를 선택하여 해당 도메인을 찾은 후 **기본 설정** >  **원본 서버 정보**의 ‘원본 서버 주소’ 및 ‘호스트 헤더’ 설정이 올바른지 확인합니다.

   - 원본 서버 유형:

   <table>
   <thead>
   <tr>
   <td><strong>자체 구축한 원본 서버</strong></td>
   <td>자체 구축한 원본 서버를 선택하는 경우 정상적으로 액세스할 수 있는 서버의 IP 주소 또는 도메인을 제공해야 합니다.</td>
   </tr>
   </thead>
   <tbody><tr>
   <td><strong>COS 원본</strong></td>
   <td>Tencent Cloud COS의 버킷을 원본 서버로 선택하는 경우 버킷의 설정에 따라 기본 도메인 또는 정적 웹사이트 시나리오를 선택합니다. 버킷이 개인 버킷인 경우 CDN에 권한을 부여하여 Origin-pull 인증 활성화, 즉 개인 버킷 액세스를 활성화하십시오.</td>
   </tr>
   <tr>
   <td><strong>서드 파티 COS</strong></td>
   <td>서드 파티 COS를 선택하는 경우 유효한 버킷 액세스 주소를 원본 서버로 입력하십시오. 현재 지원되는 서드 파티는 AWS S3 및 Alibaba Cloud OSS입니다. 서드 파티 개인 버킷으로 Origin-pull 하려면 유효한 키를 입력하고 Origin-pull을 활성화해야 합니다. 즉, 개인 버킷 액세스를 활성화합니다.</td>
   </tr>
   </tbody></table>

   - 호스트 헤더:
     Origin-pull 도메인입니다. CDN 노드가 Origin-pull 진행 시, 원본 서버의 IP 주소 아래에 있는 특정 사이트 도메인에 액세스합니다. 기본값은 가속 도메인입니다. 와일드카드 서브도메인을 연결하는 경우 기본값은 와일드카드 서브도메인이며, 실제 호스트 헤더는 액세스 도메인입니다. 실제 상황에 따라 자체 수정 가능합니다(**참고:** 원본 서버 유형이 COS 원본 및 서드 파티 COS인 경우 수정 불가).

더 자세한 원본 서버 설정 관련 설명은 [원본 서버 설정](https://intl.cloud.tencent.com/document/product/228/6289)을 참고하십시오.
