<style> 
table th:nth-of-type(1) { width:18%; } 
table th:nth-of-type(2){ width:82%; } 
</style>

본 문서는 CDN을 통해 COS의 리소스에 대한 액세스를 가속화하는 방법을 설명합니다.

## 전제 조건

1. Tencent Cloud 계정 가입 및 실명 인증을 완료합니다
2. COS 버킷을 생성합니다. 자세한 내용은 [버킷 생성](https://intl.cloud.tencent.com/document/product/436/13309)을 참고하십시오.

## 운영 가이드

### 도메인 추가

[CDN 콘솔](https://console.cloud.tencent.com/cdn)에 로그인한 후, 왼쪽 메뉴에서 **도메인 관리**를 클릭하여 도메인 관리 페이지로 이동하고 **도메인 추가**를 클릭합니다. ![](https://staticintl.cloudcachetci.com/yehe/backend-news/tzMB146_%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20230224114903.png)

### COS를 원본 서버로 선택

#### Part 1: 도메인 이름 구성

도메인 필드에 비즈니스 도메인 이름을 입력하고, 프로젝트 및 가속 유형을 선택하고, IPv6 액세스 활성화 여부를 선택하고, 태그를 설정합니다.
<img src="https://staticintl.cloudcachetci.com/yehe/backend-news/7Jsd355_%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20230224115825.png" width="60%">

**구성 설명:**

| 구성   | 설명                                                     |
| :------- | :----------------------------------------------------------- |
| 리전 | 중국 내: 모든 요청은 중국 내의 노드를 캐시하도록 스케쥴링됩니다. <br/>중국 외: 모든 요청은 중국 외의 노드를 캐시하도록 스케쥴링됩니다. <br/>글로벌: 요청은 가장 가까운 최적의 노드로 스케쥴링됩니다. <br/><br/>**참고:** 중국 내와 중국 외에서의 가속 서비스는 별도로 과금됩니다. 자세한 내용은 [과금 안내](https://intl.cloud.tencent.com/document/product/228/2949)를 참고하십시오. |
| 가속 도메인 이름 | 1. 도메인 이름은 최대 81자까지 가능합니다. <br/>2. ICP 비안은 중국 본토에서 실행되는 도메인 이름에 필요합니다. <br/>3. 서브 도메인(`a.test.com` 또는 `a.b.test.com`)과 와일드카드 도메인 이름(`*.test.com` 또는 `*.a.test.com`)이 지원됩니다. <br/>4. 와일드카드 도메인 이름 또는 연결된 도메인 이름을 연결할 때 [도메인 이름 소유권 인증](https://intl.cloud.tencent.com/document/product/228/5734)이 필요합니다. <br/><br/> **참고:<br/>** 1. 여기에 와일드카드 도메인 이름을 연결하면 서브 도메인과 두 번째 레벨 와일드카드 도메인 이름을 다른 계정으로 연결할 수 없습니다. <br/> 2. `*.test.com` 및 `*.a.test.com` 형식의 도메인 이름은 동시에 구성할 수 없습니다. <br/>3. 이제 언더바와 punycode로 변환된 중국어를 포함하는 도메인 이름을 사용할 수 있습니다. <br/>• 중국 내 중국어 도메인 이름은 중국어 형식으로 관련 ICP 비안이 완료되어야 합니다.<br/>• 중국어 도메인 이름, 예: ‘중국어.도메인 이름’은 타사 툴을 통해 ‘xn--fiq228c.xn--eqrt2g’로 변환한 후 연결할 수 있습니다.<br/>• 언더바가 포함된 도메인 이름, 예: ‘test_qq.tencent.cloud’는 직접 추가할 수 있습니다.<br/> 4. 악성 또는 고위험 도메인 이름은 연결할 수 없습니다. 자세한 내용은 [사용 제한](https://intl.cloud.tencent.com/document/product/228/32981)을 참고하십시오. |
| 프로젝트 | (선택 사항) 프로젝트는 모든 Tencent Cloud 제품이 공유하는 리소스 집합입니다. [프로젝트 관리](https://console.cloud.tencent.com/project) 페이지에서 관리할 수 있습니다. |
| 가속 유형 | Tencent Cloud CDN은 서비스 유형에 따라 가속 성능을 최적화합니다. 최상의 가속화 결과를 위해 실제 비즈니스와 유사한 서비스 유형을 선택하는 것이 좋습니다. <br>CDN은 정적 리소스 가속에 적용할 수 있습니다. ECDN은 동적 리소스 가속화에 적용할 수 있습니다. <br>CDN: <br>• 소형 웹페이지 파일 다운로드 가속화: 이커머스, 웹사이트, UGC 커뮤니티 및 주로 웹페이지 양식, 이미지, 소형 파일과 같은 소형 정적 리소스를 포함하는 기타 비즈니스 시나리오에 적용할 수 있습니다. <br>• 대용량 파일 다운로드 가속화: 게임 설치 패키지, 애플리케이션 업데이트, 애플리케이션 프로그램 패키지와 같은 대용량 파일을 다운로드하는 비즈니스 시나리오에 적용 가능합니다. <br>• 주문형 오디오/비디오 가속: 온라인 주문형 오디오/비디오 스트리밍과 같이 가속이 필요한 오디오/비디오 주문형 시나리오에 적용할 수 있습니다. <br>ECDN: <br>• 동적 및 정적 콘텐츠 가속화: 다양한 웹사이트 홈페이지와 같이 동적 및 정적 데이터가 통합된 비즈니스 시나리오에 적용할 수 있습니다. <br>• 동적 콘텐츠 가속: 계정 로그인, 주문 트랜잭션, API 호출 및 실시간 쿼리와 같은 시나리오에 적용할 수 있습니다. <br><br>한 번 선택한 가속 유형은 변경할 수 없습니다. 가속 유형을 변경하려면 도메인 이름을 삭제하고 도메인 이름을 다시 추가한 다음 새 가속 유형을 선택하십시오. |
| IPv6 액세스 | (선택 사항)CDN 노드는 기본적으로 IPv4 액세스를 지원합니다. IPv6 액세스는 활성화된 후에 지원됩니다.<br /><br/>**참고:** IPv6 액세스는 중국 내에서만 사용할 수 있습니다. |
| 태그 | (선택 사항)태그는 다양한 차원의 카테고리별로 리소스를 관리하는 데 사용됩니다. 기존 태그가 요구 사항을 충족하지 않는 경우 [태그 ](https://console.cloud.tencent.com/tag/taglist)로 이동하십시오.(선택 사항)|

#### Part 2: 원본 구성

원본을 구성합니다. 요청된 리소스가 CDN 노드에 캐시되지 않은 경우 CDN은 요청을 원본으로 포워딩하고 요청된 리소스를 가져와서 CDN 노드에 캐시합니다.

1. **도메인 구성**의 **원본 유형** 드롭다운 목록에서 COS(Cloud Object Storage)를 선택합니다.
2. 원본 서버의 지원을 기반으로 Origin-pull 프로토콜을 선택합니다.
3. 원본 주소로 **버킷**을 선택합니다.
4. **비공개 버킷 액세스**를 활성화합니다. 먼저 COS-bucket 권한 관리로 이동하여 CDN 서비스를 인증해야 합니다. 서비스 인증이 확인되면 이 기능을 수동으로 활성화할 수 있습니다.
5. 원본 도메인에는 기본 설정이 사용됩니다. 수정할 필요가 없습니다.

**도메인 이름 추가** 페이지에서 모든 구성 항목을 입력한 후 **확인**을 클릭하고 전체 네트워크를 통해 도메인 이름 구성이 전달될 때까지 기다립니다. 일반적으로 5 - 10분이 소요됩니다.

### 마지막 단계: CNAME 설정

도메인 이름을 성공적으로 추가한 후 **도메인 관리** 페이지에서 CDN이 할당한 가속 CNAME을 볼 수 있습니다.
![](https://staticintl.cloudcachetci.com/yehe/backend-news/hKnF341_%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20230224143035.png)

DNSPod와 같은 DNS 서비스 제공 업체에서 도메인 이름에 대한 CNAME 레코드를 추가해야 합니다. **DNS 구성이 적용된 후** 가속 서비스를 사용할 수 있습니다. 자세한 내용은 [CNAME 설정](https://www.tencentcloud.com/document/product/228/3121)을 참고하십시오.

## 권장 구성

1. 모든 설정을 완료한 후 COS의 정적 리소스 파일을 CDN 노드로 미리 프리패치하여 원본 서버의 부담을 줄이고 응답 및 다운로드를 가속화합니다. 자세한 내용은 <a href="https://intl.cloud.tencent.com/document/product/228/39000"> 캐시 프리패치</a>를 참고하십시오.
2. 원본 간 액세스 헤더를 구성합니다. 리소스의 원본 간 권한에 대한 자세한 내용은 <a href="https://intl.cloud.tencent.com/document/product/228/35320">HTTP 응답 헤더 설정</a>을 참고하십시오.
3. 원본 서버에서 리소스가 수정된 경우 다시 프리패치하기 전에 캐시를 퍼지하는 것이 좋습니다. 자세한 내용은 <a href="https://intl.cloud.tencent.com/document/product/228/6299">캐시 퍼지</a>를 참고하십시오.
