![](https://qcloudimg.tencent-cloud.cn/raw/0ebdc0f0a97859cd5f41d425838a54ce.png)

## 준비 작업

### CDN 서비스 활성화

CDN 설정 전에 [CDN 서비스 활성화](https://intl.cloud.tencent.com/document/product/228/32978)해야 합니다. CDN 서비스를 활성화한 경우 다음 단계를 계속하십시오.

### 난독화 개념:


| 설정 이름          | 설정 설명                                                     | 사용 위치          |
| ----------------- | ------------------------------------------------------------ | ----------------- |
| 가속 도메인          | CDN에 연결한 도메인. 사용자가 단말에서 실제로  액세스하는 도메인            | 도메인 추가-도메인 설정 |
| 원본 서버 주소/원본 서버 도메인 | 원본 서버에 해당하는 IP 주소(도메인). CDN 노드에 요청 내용이 포함되어 있지 않으면 이 주소(도메인)에 액세스하여 요청 내용을 얻습니다.<br /><br />**원본 서버:** 서비스를 제공하는 서버는 사용자 요청을 처리 및 응답할 수 있습니다. 사용자는 원본 서버 주소를 통해 액세스하며, 원본 서버 주소는 도메인 또는 IP 주소일 수 있습니다. | 도메인 추가-원본 서버 설정 |
| 호스트 헤더         | CDN 노드가 Origin-pull할 때 실제로 요청한 서버 내용. 일반적으로 가속 도메인과 일치하며 비즈니스 니즈에 따라 원본 요청 시 실제 요청 내용을 입력할 수 있습니다. |도메인 추가-원본 서버 설정 |
| CNAME 도메인        | 가속 도메인 연결 후 시스템은 접미사가 `.cdn.dnsv1.com` 또는 `.dsa.dnsv1.com`인 CNAME 도메인을 자동으로 할당합니다. <br />가속 도메인을 CNAME 도메인에 매핑하면 Tencent Cloud는 CNAME이 지정하는 IP 주소를 동적으로 수정하고 모든 가속 도메인을 업데이트합니다. 각 가속 도메인 지정 IP 주소를 수동으로 변경할 필요가 없습니다.  | CNAME 설정        |

- **가속 도메인:** `cdntest.com`을 통한 사용자 액세스. `cdntest.com`은 가속 도메인.
- **CNAME 도메인:** 가속 도메인 연결 후, 시스템은 접미사가 `.cdn.dnsv1.com` 또는 `.dsa.dnsv1.com`인 CNAME 도메인을 자동으로 할당합니다. 예시: `cdntest.com.cdn.dnsv1.com`/`cdntest.com.dsa.dnsv1.com`.
- **원본 서버 주소:** CDN 노드가 사용자 요청 내용을 캐시하지 않는 경우 CDN 노드는 1.1.1.1에 내용을 요청합니다. 1.1.1.1은 원본 서버 주소입니다.
- **호스트 헤더:** CDN 노드가 1.1.1.1을 요청할 때 실제 요청된 주소가 단말 사용자가 요청한‘cdntest.com’과 다른 ‘originhost.com’이기를 바란다면, 호스트 헤더를 ‘originhost.com’으로 설정합니다. 단말 사용자는 ‘cdntest.com’을 통해 Origin-pull할 때 ‘originhost.com’에 액세스하게 됩니다. 일반적으로 가속 도메인은 호스트 헤더 도메인과 일치하며 비즈니스 니즈에 따라 조정할 수 있습니다.


## 작업 단계

CDN 콘솔의 왼쪽 메뉴에서 **도메인 관리**를 찾은 다음 **도메인 추가**를 클릭합니다.
![](https://main.qcloudimg.com/raw/020628a1fba4d8529bf3b5be7f459170.png)

도메인 추가 페이지로 이동한 후 다음 세 부분을 설정하면 도메인 연결이 완료됩니다.

- [도메인 설정](#m1)
- [원본 서버 설정](#m2)
- [서비스 설정(옵션)](#m3)

[](id:m1)

### 도메인설정

1. 가속 영역 선택
2. 가속 도메인 입력
   연결하려는 도메인이 다음과 같은 경우 도메인 인증이 필요하며, 인증 절차는 [도메인 소유권 인증](https://intl.cloud.tencent.com/document/product/228/42693)을 참고하십시오.
   - 처음으로 연결하는 도메인.
   - 다른 사용자에 의해 연결된 도메인.
   - 와일드카드 서브도메인.
3. 가속 유형 선택
4. 기타 옵션 사항(도메인 관리에서 변경 가능)

<img src="https://main.qcloudimg.com/raw/6ec038f7f063b01cc1d68ecbfe4cb5c8.png" width="60%">



##### 설정 항목 상세 설명: 

| 설정 항목   | 설정 설명                                                     |
| :------- | :----------------------------------------------------------- |
| 가속 지역 | 중국 내: 글로벌 사용자 액세스가 모두 중국 대륙 내 가속 노드로 스케쥴링되어 서비스됩니다.<br>중국 외(중국 홍콩·마카오·대만 지역 포함): 글로벌 사용자 액세스가 모두 중국 대륙 외 가속 노드로 스케쥴링되어 서비스됩니다.<br>글로벌: 글로벌 사용자 액세스가 가장 근접한 노드로 최적화 스케쥴링되어 서비스됩니다.<br><br>**주의 사항:** <br>중국 대륙 내/외 가속 서비스 요금은 청구 방식이 다릅니다. 자세한 내용은 [과금 설명](https://intl.cloud.tencent.com/document/product/228/2949)을 참고하십시오. |
| 가속 도메인          | 1. 81자를 초과하지 않는 도메인.<br>2. 공업정보화부 ICP비안이 완료된 도메인.<br>3. `a.test.com`, `a.b.test.com` 등 형식의 서브도메인 또는 `*.test.com`, `*.a.test.com` 형식의 와일드카드 서브도메인.<br>4. 도메인이 와일드카드 서브도메인이거나 다른 사용자가 이미 연결한 경우, 또는 최초 연결인 경우 [도메인 소유권 인증](https://intl.cloud.tencent.com/document/product/228/42693)을 완료한 도메인.<br><br>**주의 사항:**<br>1. 와일드카드 서브도메인 연결 후, 해당 서브도메인 또는 2레벨 와일드카드 서브도메인의 기타 계정 연결은 지원되지 않습니다.<br>2. `*.test.com` 및 `*.a.test.com`의 동시 연결은 지원되지 않습니다.<br>• 중국 내 중국어 도메인은 중국어 형식으로 관련 ICP비안이 완료되어야 합니다.<br>• 중국어 도메인, 예: ‘중국어.도메인’은 서드 파티 툴을 통해 ‘xn--fiq228c.xn--eqrt2g’로 변환한 후 연결할 수 있습니다.<br>• 언더바가 포함된 도메인, 예: ‘test_qq.tencent.cloud’는 화이트리스트 추가 후 바로 추가할 수 있습니다.<br>3. 악성 도메인 또는 고위험 도메인은 연결할 수 없습니다. 자세한 내용은 [사용 제한](https://intl.cloud.tencent.com/document/product/228/32981)을 참고하십시오. |
| 가속 유형 | Tencent Cloud CDN은 다양한 비즈니스 유형에 대해 가속 성능을 최적화하였습니다. 더 우수한 가속 효과를 얻으려면 자신의 비즈니스 유형에 적합한 서비스 유형을 선택하는 것이 좋습니다. <br><br>**CDN** <br>정적 가속: 전자상거래, 웹사이트 및 게임 이미지와 같은 소규모 리소스 가속 시나리오에 적합합니다. <br>다운로드 가속: 게임 설치 패키지, 오디오 및 비디오 소스 파일 다운로드, 휴대폰 펌웨어 배포와 같은 다운로드 시나리오에 적합합니다. <br>스트림 미디어 주문형 가속: 온라인 교육, 주문형 온라인 비디오 등 시나리오에 적합합니다. <br><br>**ECDN** <br>동적/정적 가속: 다양한 웹사이트의 메인 페이지와 같이 동적 및 정적 데이터가 통합된 비즈니스 시나리오에 적합합니다. <br>동적 가속: 계정 로그인, 주문 거래, API 호출, 실시간 쿼리 등 시나리오에 적합합니다. <br><br>**주의 사항:** <br> 가속 유형에 따라 청구 기준이 다르므로 [CDN 과금 설명](https://intl.cloud.tencent.com/document/product/228/2949) 및 [ECDN 과금 개요](https://intl.cloud.tencent.com/document/product/570/37505)를 참고하십시오. |
| IPv6 액세스 | IPv6 액세스는 기본적으로 비활성화 상태입니다. 활성화 후에는 IPv6 프로토콜을 통해 CDN 노드에 액세스할 수 있습니다.<br><br>**주의 사항:** <br>• 일부 플랫폼은 업데이트 중으로 현재 IPv6 액세스가 지원되지 않습니다. 업데이트 완료 후 지원 예정이오니 잠시만 기다려 주십시오. <br>• IPv6 액세스는 중국 내에서만 지원됩니다.<br />• 도메인 가속 지역이 글로벌인 상태에서 IPv6 액세스를 활성화하면 중국 내에만 적용됩니다. |
| 서브 프로젝트 | 프로젝트는 Tencent Cloud의 모든 클라우드 서비스가 공유하는 리소스 그룹의 개념으로, [프로젝트 관리](https://console.cloud.tencent.com/project)에서 프로젝트 관련 작업을 할 수 있습니다.  |
| 태그     | 태그 키와 태그 값은 필수 항목이며, 태그를 생성하지 않은 경우 [태그 관리](https://console.cloud.tencent.com/tag/taglist)에서 태그 관련 작업을 수행할 수 있습니다. |

[](id:m2)

### 원본 서버 설정

1. 원본 서버 유형 선택
2. Origin-pull 프로토콜 선택
3. 원본 서버 주소 입력
4. 호스트 헤더 구성

<img src="https://main.qcloudimg.com/raw/947c24efc846a11b25dca0f8ea552422.png" width="70%">

##### **설정 항목 상세 설명:**

| 설정 항목   | 설정 설명                                                     |
| :-------- | :----------------------------------------------------------- |
| 원본 서버 유형 | 외부 원본: <br>안정적으로 운영 중인 서비스 서버(원본 서버)를 보유한 경우 해당됩니다.<br><br>[COS 원본](https://intl.cloud.tencent.com/product/cos):<br>Tencent Cloud COS 서비스를 사용하여 해당 bucket을 직접 선택할 수 있습니다.<br><br>서드 파티 COS:<br>Tencent Cloud 이외의 서드 파티 COS인 경우로, 현재 AWS S3와 Alibaba Cloud OSS만 지원됩니다.<br><br>**주의 사항**:<br>일부 플랫폼은 현재 서드 파티 COS가 지원되지 않습니다. 추후에 지원될 예정입니다.|
| 원본 서버 주소  | 외부 원본: <br>1. 여러 개의 IP를 원본 서버로 설정 가능하며, 폴링 방식으로 Origin-pull합니다.<br>2. 포트(0 - 65535)와 가중치(1 - 100) 추가 설정을 지원합니다. <br>**참고 형식:** `원본 서버:포트:가중치`(포트 생략 가능: `원본 서버::가중치`)<br>**참고:** HTTPS 프로토콜은 현재 443 포트만 지원됩니다.<br>3. 도메인을 원본 서버 지정할 수 있으며 해당 도메인은 CDN 가속 도메인과 **달라야** 합니다.<br>**참고**: 원본 서버 주소가 이미 연결된 CDN 가속 도메인인 경우 반복적으로 리졸브할 수 있어 Origin-pull을 정상적으로 진행할 수 없습니다.<br><br>COS 원본:<br>1. Tecent Cloud COS에서 버킷 하나를 원본 서버로 선택합니다. <br>2. 버킷 설정과 실제 시나리오에 맞춰 기본 도메인 또는 정적 웹사이트 유형을 선택합니다.<br>3. 개인 버킷인 경우 CDN에 권한을 부여하고 Origin-pull 인증을 활성화하여 개인 버킷 액세스를 활성화합니다.<br><br>서드 파티 COS:<br>1. 리소스가 서드 파티 COS에 저장되어 있는 경우, 유효한 버킷 액세스 주소를 원본 서버로 선택합니다. 현재 지원되는 서드 파티는 AWS S3 및 Alibaba Cloud OSS입니다.<br>**참고**: `http://` 또는 `http:// 프로토콜 헤더`, `my-bucket.oss-cn-beijing.aliyuncs.com` 또는 `my-bucket.s3.ap-east-1.amazonaws.com`은 포함할 수 없습니다.<br>2. 서드 파티 개인 버킷에 Origin-pull하는 경우, 유효한 키를 입력하고 Origin-pull 인증을 활성화하면 개인 버킷 액세스가 활성화됩니다. |
| Origin-pull 프로토콜  | 여기에서 원본 서버 지원 상황에 따라 Tencent Cloud CDN 노드 원본 요청 프로토콜을 선택합니다. <br>HTTP: 사용자 요청이 HTTP / HTTPS 액세스인 경우 모두 HTTP Origin-pull을 사용합니다.<br><br>HTTPS: 사용자 요청이 HTTP / HTTPS 액세스인 경우 모두 HTTPS Origin-pull(원본 서버가 HTTPS 액세스를 지원해야 함)을 사용합니다.<br><br> 프로토콜 준수: 사용자 요청이 HTTP 액세스인 경우 HTTP Origin-pull을 사용하고, HTTPS 액세스인 경우 HTTPS Origin-pull(원본 서버가 HTTPS 액세스를 지원해야 함)을 사용합니다. |
| Host 헤더 | Origin-pull 도메인. CDN 노드에서 Origin-pull을 실행할 때, 액세스한 원본 서버 IP 주소의 구체적인 사이트 도메인입니다.<br><br>외부 원본:<br>현재 가속 도메인. 와일드카드 서브도메인을 연결하면 와일드카드 서브도메인으로 기본 설정되며 실제 Host 헤더는 액세스 도메인이 됩니다. 실제 비즈니스 상황에 맞게 수정할 수 있습니다.<br><br>COS 원본:<br>버킷 액세스 주소로 기본 설정되며, 원본 서버와 동일하고 수정할 수 없습니다.<br><br>서드 파티 COS:<br>버킷 액세스 주소로 기본 설정되며, 원본 서버와 동일하고 수정할 수 없습니다. |

[](id:m3)

### 서비스 설정(옵션)

Tencent Cloud CDN은 일반적으로 사용되는 서비스 설정을 제공하며 개인의 필요에 따라 선택할 수 있습니다. 현재 서비스 설정을 진행할 필요가 없다면 도메인 연결 후 설정을 진행할 수 있습니다.

<img src="https://main.qcloudimg.com/raw/6e918f4e91d4c5249172589475f292a1.png" width="80%">

##### **설정 항목 상세 설명:**

| 설정 항목   | 설정 설명                                                     |
| :------- | :----------------------------------------------------------- |
| 매개변수 무시 | 노드 캐시 리소스는 Key-Value에 따라 매핑하며, 그 중 Key가 리소스 URL입니다. <br>매개변수 무시를 활성화하면 Key는 URL 중 ‘?’ 이후의 매개변수를 무시한 채로 매핑합니다.<br>매개변수 무시를 비활성화하는 경우 Key는 전체 리소스 URL이 됩니다. <br><br>정적 가속 유형은 **기본적으로 비활성화**되어 있으며 다운로드, 스트림 미디어 주문형 가속 유형은 **기본적으로 활성화**되어 있습니다. |
| 샤드 Origin-pull | Origin-pull 시 샤드를 진행할지 여부를 설정하며, 원본 서버에서 샤드를 지원해야만 활성화할 수 있습니다.<br><br/>원본 서버 유형이 COS 원본이거나 서비스 유형이 다운로드, 스트림 미디어 VOD 가속인 경우 샤드 Origin-pull이 **기본적으로 활성화**되어 있습니다 |
| 캐시 규정 | 노드 캐시 만료 시간을 설정합니다. 정적 가속 유형의 경우 일반적인 동적 파일(예: php, jsp, asp, aspx)은 기본적으로 캐시하지 않으며, 기타 모든 파일, 다운로드, 스트림 미디어 VOD 가속 유형의 캐시 시간은 기본적으로 30일입니다.<br><br> 노드 캐시 만료 시간을 최대로 설정하는 경우 노드 스토리지 리소스의 영향을 받으며 실제 캐시 시간은 상황에 따라 다릅니다.|

## 연결 완료

도메인 작업 추가 완료 후 도메인 설정이 전체 네트워크 노드에 전달될 때까지 약 5 - 10 분이 소요됩니다.
<img src="https://main.qcloudimg.com/raw/d5bcb556ac1b89946ec15642d3249676.png" width="80%">

## 후속 작업

연결이 완료되면 Tencent Cloud CDN에서 해당 CNAME 주소를 할당하므로 CDN 서비스를 적용하려면 CNAME 설정을 완료해야 합니다. 자세한 내용은 [CNAME 설정](https://intl.cloud.tencent.com/document/product/228/3121)을 참고하십시오.
